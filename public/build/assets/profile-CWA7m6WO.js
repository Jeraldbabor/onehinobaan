import{c as me,r as se,j as r,F as fe,u as he,a as pe,L as xe,H as ge}from"./app-BIIX7BF1.js";import{q as oe,B as T}from"./index-CZhuW6J2.js";import{H as ce,S as ye}from"./layout-DMvgvcjL.js";import{I as ae}from"./input-error-Dog57yZH.js";import{e as je,d as ve,c as _e,f as be,g as Ne,D as we,a as Se}from"./dialog-bbBFuOrf.js";import{I as le}from"./input-D-thCKlr.js";import{L as ie}from"./label-BrtNbNlo.js";import{A as Ce,s as De}from"./app-layout-CPMJcZkt.js";import{s as Pe}from"./index-C9eGMgjB.js";import{U as Ee,C as Fe}from"./user-B3bzbzTi.js";import{K as Qe}from"./transition-BBAuz0nm.js";/* empty css            */import"./index-pjzQDydk.js";import"./index-jpUi8l2J.js";import"./x-D52Q4CUL.js";import"./createLucideIcon-rY7UP4mI.js";import"./index-CTYiB3h6.js";import"./megaphone-Bvy9s0wX.js";import"./hard-hat-Bvnd2bTD.js";import"./briefcase-Bu0tNWqC.js";import"./users-DgcjHilf.js";import"./landmark-CsYJgGDc.js";const i=t=>({url:i.url(t),method:"get"});i.definition={methods:["get","head"],url:"/settings/profile"};i.url=t=>i.definition.url+oe(t);i.get=t=>({url:i.url(t),method:"get"});i.head=t=>({url:i.url(t),method:"head"});const ne=t=>({action:i.url(t),method:"get"});ne.get=t=>({action:i.url(t),method:"get"});ne.head=t=>({action:i.url({[t?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...t?.query??t?.mergeQuery??{}}}),method:"get"});i.form=ne;const d=t=>({url:d.url(t),method:"patch"});d.definition={methods:["patch"],url:"/settings/profile"};d.url=t=>d.definition.url+oe(t);d.patch=t=>({url:d.url(t),method:"patch"});const de=t=>({action:d.url({[t?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...t?.query??t?.mergeQuery??{}}}),method:"post"});de.patch=t=>({action:d.url({[t?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...t?.query??t?.mergeQuery??{}}}),method:"post"});d.form=de;const n=t=>({url:n.url(t),method:"delete"});n.definition={methods:["delete"],url:"/settings/profile"};n.url=t=>n.definition.url+oe(t);n.delete=t=>({url:n.url(t),method:"delete"});const ue=t=>({action:n.url({[t?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...t?.query??t?.mergeQuery??{}}}),method:"post"});ue.delete=t=>({action:n.url({[t?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...t?.query??t?.mergeQuery??{}}}),method:"post"});n.form=ue;const ke={destroy:n};function qe(){const t=me.c(9),e=se.useRef(null);let u;t[0]===Symbol.for("react.memo_cache_sentinel")?(u=r.jsx(ce,{variant:"small",title:"Delete account",description:"Delete your account and all of its resources"}),t[0]=u):u=t[0];let f;t[1]===Symbol.for("react.memo_cache_sentinel")?(f=r.jsxs("div",{className:"relative space-y-0.5 text-red-600 dark:text-red-100",children:[r.jsx("p",{className:"font-medium",children:"Warning"}),r.jsx("p",{className:"text-sm",children:"Please proceed with caution, this cannot be undone."})]}),t[1]=f):f=t[1];let s;t[2]===Symbol.for("react.memo_cache_sentinel")?(s=r.jsx(Ne,{asChild:!0,children:r.jsx(T,{variant:"destructive","data-test":"delete-user-button",children:"Delete account"})}),t[2]=s):s=t[2];let m,x;t[3]===Symbol.for("react.memo_cache_sentinel")?(m=r.jsx(we,{children:"Are you sure you want to delete your account?"}),x=r.jsx(Se,{children:"Once your account is deleted, all of its resources and data will also be permanently deleted. Please enter your password to confirm you would like to permanently delete your account."}),t[3]=m,t[4]=x):(m=t[3],x=t[4]);let h,c,o;t[5]===Symbol.for("react.memo_cache_sentinel")?(h=ke.destroy.form(),c={preserveScroll:!0},o=()=>e.current?.focus(),t[5]=h,t[6]=c,t[7]=o):(h=t[5],c=t[6],o=t[7]);let a;return t[8]===Symbol.for("react.memo_cache_sentinel")?(a=r.jsxs("div",{className:"space-y-6",children:[u,r.jsxs("div",{className:"space-y-4 rounded-lg border border-red-100 bg-red-50 p-4 dark:border-red-200/10 dark:bg-red-700/10",children:[f,r.jsxs(je,{children:[s,r.jsxs(ve,{children:[m,x,r.jsx(fe,{...h,options:c,onError:o,resetOnSuccess:!0,className:"space-y-6",children:H=>{const{resetAndClearErrors:I,processing:R,errors:l}=H;return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsx(ie,{htmlFor:"password",className:"sr-only",children:"Password"}),r.jsx(le,{id:"password",type:"password",name:"password",ref:e,placeholder:"Password",autoComplete:"current-password"}),r.jsx(ae,{message:l.password})]}),r.jsxs(_e,{className:"gap-2",children:[r.jsx(be,{asChild:!0,children:r.jsx(T,{variant:"secondary",onClick:()=>I(),children:"Cancel"})}),r.jsx(T,{variant:"destructive",disabled:R,asChild:!0,children:r.jsx("button",{type:"submit","data-test":"confirm-delete-user-button",children:"Delete account"})})]})]})}})]})]})]})]}),t[8]=a):a=t[8],a}const Ae=[{title:"Profile settings",href:De().url}];function st(t){const e=me.c(72),{mustVerifyEmail:u,status:f}=t,{auth:s}=he().props,[m,x]=se.useState(s.user.avatar_url),h=se.useRef(null);let c;e[0]!==s.user.email||e[1]!==s.user.name?(c={_method:"patch",name:s.user.name,email:s.user.email,avatar:null},e[0]=s.user.email,e[1]=s.user.name,e[2]=c):c=e[2];const{data:o,setData:a,post:H,processing:I,recentlySuccessful:R,errors:l}=pe(c);let U;e[3]!==a?(U=p=>{const te=p.target.files?.[0];if(te){a("avatar",te);const re=new FileReader;re.onloadend=()=>{x(re.result)},re.readAsDataURL(te)}},e[3]=a,e[4]=U):U=e[4];const Z=U;let B;e[5]!==H?(B=p=>{p.preventDefault(),H("/settings/profile",{preserveScroll:!0})},e[5]=H,e[6]=B):B=e[6];const ee=B;let G,$;e[7]===Symbol.for("react.memo_cache_sentinel")?(G=r.jsx(ge,{title:"Profile settings"}),$=r.jsx("h1",{className:"sr-only",children:"Profile Settings"}),e[7]=G,e[8]=$):(G=e[7],$=e[8]);let z;e[9]===Symbol.for("react.memo_cache_sentinel")?(z=r.jsx(ce,{variant:"small",title:"Profile information",description:"Update your name and email address"}),e[9]=z):z=e[9];let g;e[10]!==s.user.name||e[11]!==m?(g=r.jsx("div",{className:"flex h-24 w-24 items-center justify-center overflow-hidden rounded-full bg-muted shadow-inner",children:m?r.jsx("img",{src:m,alt:s.user.name,className:"h-full w-full object-cover"}):r.jsx(Ee,{className:"h-12 w-12 text-muted-foreground"})}),e[10]=s.user.name,e[11]=m,e[12]=g):g=e[12];let K;e[13]===Symbol.for("react.memo_cache_sentinel")?(K=r.jsx(T,{type:"button",variant:"outline",size:"icon",className:"absolute -right-1 -bottom-1 h-8 w-8 rounded-full shadow-md",onClick:()=>h.current?.click(),children:r.jsx(Fe,{className:"h-4 w-4"})}),e[13]=K):K=e[13];let y;e[14]!==Z?(y=r.jsx("input",{type:"file",ref:h,className:"hidden",accept:"image/*",onChange:Z}),e[14]=Z,e[15]=y):y=e[15];let j;e[16]!==g||e[17]!==y?(j=r.jsxs("div",{className:"relative",children:[g,K,y]}),e[16]=g,e[17]=y,e[18]=j):j=e[18];let M,O;e[19]===Symbol.for("react.memo_cache_sentinel")?(M=r.jsx("h4",{className:"text-sm font-medium",children:"Profile Picture"}),O=r.jsx("p",{className:"text-xs text-muted-foreground",children:"JPG, GIF or PNG. Max size of 2MB."}),e[19]=M,e[20]=O):(M=e[19],O=e[20]);let v;e[21]!==l.avatar?(v=l.avatar&&r.jsx("p",{className:"text-xs text-destructive",children:l.avatar}),e[21]=l.avatar,e[22]=v):v=e[22];let _;e[23]!==v?(_=r.jsxs("div",{className:"space-y-1",children:[M,O,v]}),e[23]=v,e[24]=_):_=e[24];let b;e[25]!==j||e[26]!==_?(b=r.jsxs("div",{className:"flex flex-col items-center gap-4 sm:flex-row",children:[j,_]}),e[25]=j,e[26]=_,e[27]=b):b=e[27];let J;e[28]===Symbol.for("react.memo_cache_sentinel")?(J=r.jsx(ie,{htmlFor:"name",children:"Name"}),e[28]=J):J=e[28];let N;e[29]!==a?(N=p=>a("name",p.target.value),e[29]=a,e[30]=N):N=e[30];let w;e[31]!==o.name||e[32]!==N?(w=r.jsx(le,{id:"name",className:"mt-1 block w-full",value:o.name,onChange:N,required:!0,autoComplete:"name",placeholder:"Full name"}),e[31]=o.name,e[32]=N,e[33]=w):w=e[33];let S;e[34]!==l.name?(S=r.jsx(ae,{className:"mt-2",message:l.name}),e[34]=l.name,e[35]=S):S=e[35];let C;e[36]!==w||e[37]!==S?(C=r.jsxs("div",{className:"grid gap-2",children:[J,w,S]}),e[36]=w,e[37]=S,e[38]=C):C=e[38];let V;e[39]===Symbol.for("react.memo_cache_sentinel")?(V=r.jsx(ie,{htmlFor:"email",children:"Email address"}),e[39]=V):V=e[39];let D;e[40]!==a?(D=p=>a("email",p.target.value),e[40]=a,e[41]=D):D=e[41];let P;e[42]!==o.email||e[43]!==D?(P=r.jsx(le,{id:"email",type:"email",className:"mt-1 block w-full",value:o.email,onChange:D,required:!0,autoComplete:"username",placeholder:"Email address"}),e[42]=o.email,e[43]=D,e[44]=P):P=e[44];let E;e[45]!==l.email?(E=r.jsx(ae,{className:"mt-2",message:l.email}),e[45]=l.email,e[46]=E):E=e[46];let F;e[47]!==P||e[48]!==E?(F=r.jsxs("div",{className:"grid gap-2",children:[V,P,E]}),e[47]=P,e[48]=E,e[49]=F):F=e[49];let Q;e[50]!==s.user.email_verified_at||e[51]!==u||e[52]!==f?(Q=u&&s.user.email_verified_at===null&&r.jsxs("div",{children:[r.jsxs("p",{className:"-mt-4 text-sm text-muted-foreground",children:["Your email address is unverified."," ",r.jsx(xe,{href:Pe(),as:"button",className:"text-foreground underline decoration-neutral-300 underline-offset-4 transition-colors duration-300 ease-out hover:decoration-current! dark:decoration-neutral-500",children:"Click here to resend the verification email."})]}),f==="verification-link-sent"&&r.jsx("div",{className:"mt-2 text-sm font-medium text-green-600",children:"A new verification link has been sent to your email address."})]}),e[50]=s.user.email_verified_at,e[51]=u,e[52]=f,e[53]=Q):Q=e[53];let k;e[54]!==I?(k=r.jsx(T,{disabled:I,"data-test":"update-profile-button",children:"Save"}),e[54]=I,e[55]=k):k=e[55];let W;e[56]===Symbol.for("react.memo_cache_sentinel")?(W=r.jsx("p",{className:"text-sm text-neutral-600",children:"Saved"}),e[56]=W):W=e[56];let q;e[57]!==R?(q=r.jsx(Qe,{show:R,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:W}),e[57]=R,e[58]=q):q=e[58];let A;e[59]!==k||e[60]!==q?(A=r.jsxs("div",{className:"flex items-center gap-4",children:[k,q]}),e[59]=k,e[60]=q,e[61]=A):A=e[61];let L;e[62]!==ee||e[63]!==b||e[64]!==C||e[65]!==F||e[66]!==Q||e[67]!==A?(L=r.jsxs("div",{className:"space-y-6",children:[z,r.jsxs("form",{onSubmit:ee,className:"space-y-6",children:[b,C,F,Q,A]})]}),e[62]=ee,e[63]=b,e[64]=C,e[65]=F,e[66]=Q,e[67]=A,e[68]=L):L=e[68];let Y;e[69]===Symbol.for("react.memo_cache_sentinel")?(Y=r.jsx(qe,{}),e[69]=Y):Y=e[69];let X;return e[70]!==L?(X=r.jsxs(Ce,{breadcrumbs:Ae,children:[G,$,r.jsxs(ye,{children:[L,Y]})]}),e[70]=L,e[71]=X):X=e[71],X}export{st as default};
