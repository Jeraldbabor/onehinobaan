import{c as $e,a as De,r as Te,j as t,H as Ge,L as He}from"./app-B0TNbMn-.js";import{I as q}from"./input-error-Cq0GhrnN.js";import{B as Pe}from"./button-Q1pc-W3u.js";import{b as Ie,c as Oe,C as Be,a as Me}from"./card-CdwOYdk-.js";import{L as O}from"./label-DMQF09vG.js";import{T as qe}from"./toast-CWePUTWw.js";import{A as We}from"./app-layout-DlMjznvm.js";/* empty css            */import"./utils-DwDq1e9d.js";import"./index-BvRwfgcE.js";import"./check-CBc63dse.js";import"./x-QvDVFrHJ.js";import"./transition-CLt8Y9_o.js";import"./index-1zbHqn2d.js";import"./index-Bk3c-dX8.js";import"./megaphone-BfoPj57M.js";import"./hard-hat-CF3rDnIU.js";import"./phone-DYfDZZ8f.js";import"./users-DVYRslCj.js";import"./landmark-CB_KGvE1.js";const ze="/dashboard",B="/dashboard/announcements",Je="border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 min-h-[200px] w-full rounded-lg border bg-transparent px-3 py-2.5 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:opacity-50 md:text-sm resize-y";function ft(Re){const e=$e.c(130),{announcement:a}=Re,r=a!=null;let W,z;e[0]===Symbol.for("react.memo_cache_sentinel")?(W={title:"Dashboard",href:ze},z={title:"News & Announcements",href:B},e[0]=W,e[1]=z):(W=e[0],z=e[1]);const xe=r?"Edit post":"New post",he=r?`${B}/${a.id}/edit`:`${B}/create`;let J;e[2]!==xe||e[3]!==he?(J=[W,z,{title:xe,href:he}],e[2]=xe,e[3]=he,e[4]=J):J=e[4];const be=J,ge=a?.title??"",_e=a?.content??"",je=a?.link_url??"",ye=a?.type??"announcement",ve=a?.published_at??"";let K;e[5]!==ve||e[6]!==ge||e[7]!==_e||e[8]!==je||e[9]!==ye?(K={title:ge,content:_e,link_url:je,image:null,remove_image:!1,type:ye,published_at:ve},e[5]=ve,e[6]=ge,e[7]=_e,e[8]=je,e[9]=ye,e[10]=K):K=e[10];const{data:s,setData:l,post:we,put:Ne,processing:Q,errors:i}=De(K),[Se,Ee]=Te.useState(!1),M=a?.image_url??null;let V;e[11]!==s.image?(V=s.image?URL.createObjectURL(s.image):null,e[11]=s.image,e[12]=V):V=e[12];const o=V;let X,Y;e[13]!==o?(X=()=>()=>{o&&URL.revokeObjectURL(o)},Y=[o],e[13]=o,e[14]=X,e[15]=Y):(X=e[14],Y=e[15]),Te.useEffect(X,Y);let Z;e[16]!==a||e[17]!==r||e[18]!==we||e[19]!==Ne?(Z=n=>{n.preventDefault();const Fe={onSuccess:()=>Ee(!0),forceFormData:!0};r&&a?.id?Ne(`${B}/${a.id}`,Fe):we(B,Fe)},e[16]=a,e[17]=r,e[18]=we,e[19]=Ne,e[20]=Z):Z=e[20];const ke=Z,Ce=r?"Edit post":"New post";let c;e[21]!==Ce?(c=t.jsx(Ge,{title:Ce}),e[21]=Ce,e[22]=c):c=e[22];const Le=r?"Edit post":"New post";let m;e[23]!==Le?(m=t.jsx("h1",{className:"text-xl font-semibold tracking-tight md:text-2xl",children:Le}),e[23]=Le,e[24]=m):m=e[24];const Ue=r?"Update this post.":"Add a news item, update, or announcement. They appear in the sidebar on About and Tourism pages when published.";let d;e[25]!==Ue?(d=t.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:Ue}),e[25]=Ue,e[26]=d):d=e[26];let p;e[27]!==m||e[28]!==d?(p=t.jsxs("header",{children:[m,d]}),e[27]=m,e[28]=d,e[29]=p):p=e[29];let ee;e[30]===Symbol.for("react.memo_cache_sentinel")?(ee=t.jsx(Ie,{children:t.jsx(Oe,{className:"text-base",children:"Details"})}),e[30]=ee):ee=e[30];let te;e[31]===Symbol.for("react.memo_cache_sentinel")?(te=t.jsx(O,{htmlFor:"title",children:"Title"}),e[31]=te):te=e[31];let u;e[32]!==l?(u=n=>l("title",n.target.value),e[32]=l,e[33]=u):u=e[33];let f;e[34]!==s.title||e[35]!==u?(f=t.jsx("input",{id:"title",type:"text",value:s.title,onChange:u,className:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-xs outline-none focus-visible:ring-[3px] focus-visible:ring-ring/50 md:text-sm",placeholder:"e.g. Holiday schedule",required:!0}),e[34]=s.title,e[35]=u,e[36]=f):f=e[36];let x;e[37]!==i.title?(x=t.jsx(q,{message:i.title}),e[37]=i.title,e[38]=x):x=e[38];let h;e[39]!==f||e[40]!==x?(h=t.jsxs("div",{className:"space-y-2",children:[te,f,x]}),e[39]=f,e[40]=x,e[41]=h):h=e[41];let se;e[42]===Symbol.for("react.memo_cache_sentinel")?(se=t.jsx(O,{htmlFor:"type",children:"Type"}),e[42]=se):se=e[42];let b;e[43]!==l?(b=n=>l("type",n.target.value),e[43]=l,e[44]=b):b=e[44];let le,ie,ne;e[45]===Symbol.for("react.memo_cache_sentinel")?(le=t.jsx("option",{value:"announcement",children:"Announcement"}),ie=t.jsx("option",{value:"news",children:"News"}),ne=t.jsx("option",{value:"update",children:"Update"}),e[45]=le,e[46]=ie,e[47]=ne):(le=e[45],ie=e[46],ne=e[47]);let g;e[48]!==s.type||e[49]!==b?(g=t.jsxs("div",{className:"space-y-2",children:[se,t.jsxs("select",{id:"type",value:s.type,onChange:b,className:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-xs outline-none focus-visible:ring-[3px] focus-visible:ring-ring/50 md:text-sm",children:[le,ie,ne]})]}),e[48]=s.type,e[49]=b,e[50]=g):g=e[50];let ae;e[51]===Symbol.for("react.memo_cache_sentinel")?(ae=t.jsx(O,{htmlFor:"link_url",children:"Link to source (optional)"}),e[51]=ae):ae=e[51];let _;e[52]!==l?(_=n=>l("link_url",n.target.value),e[52]=l,e[53]=_):_=e[53];let j;e[54]!==s.link_url||e[55]!==_?(j=t.jsx("input",{id:"link_url",type:"url",value:s.link_url,onChange:_,className:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-xs outline-none focus-visible:ring-[3px] focus-visible:ring-ring/50 md:text-sm",placeholder:"https://www.gmanetwork.com/news/..."}),e[54]=s.link_url,e[55]=_,e[56]=j):j=e[56];let re;e[57]===Symbol.for("react.memo_cache_sentinel")?(re=t.jsx("p",{className:"text-xs text-muted-foreground",children:"Add a URL to link to external news (e.g. GMA News, other sites). Opens in a new tab on the sidebar."}),e[57]=re):re=e[57];let y;e[58]!==i.link_url?(y=t.jsx(q,{message:i.link_url}),e[58]=i.link_url,e[59]=y):y=e[59];let v;e[60]!==j||e[61]!==y?(v=t.jsxs("div",{className:"space-y-2",children:[ae,j,re,y]}),e[60]=j,e[61]=y,e[62]=v):v=e[62];let oe;e[63]===Symbol.for("react.memo_cache_sentinel")?(oe=t.jsx(O,{htmlFor:"image",children:"Picture (optional)"}),e[63]=oe):oe=e[63];let w;e[64]!==l?(w=t.jsx("input",{id:"image",type:"file",accept:"image/jpeg,image/png,image/gif,image/webp",onChange:n=>l("image",n.target.files?.[0]??null),className:"w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-xs outline-none file:mr-2 file:rounded-md file:border-0 file:bg-muted file:px-3 file:py-1 file:text-sm file:font-medium focus-visible:ring-[3px] focus-visible:ring-ring/50 md:text-sm"}),e[64]=l,e[65]=w):w=e[65];let ce;e[66]===Symbol.for("react.memo_cache_sentinel")?(ce=t.jsx("p",{className:"text-xs text-muted-foreground",children:"JPEG, PNG, GIF or WebP. Max 5 MB. Shown in the sidebar when set."}),e[66]=ce):ce=e[66];let N;e[67]!==M||e[68]!==s.image||e[69]!==s.remove_image||e[70]!==r||e[71]!==o||e[72]!==l?(N=(M||o)&&t.jsxs("div",{className:"flex flex-wrap items-start gap-3 pt-1",children:[t.jsx("img",{src:o??M??"",alt:"",className:"h-24 w-auto rounded-md border border-slate-200 object-cover"}),r&&M&&!s.image&&t.jsxs("label",{className:"flex cursor-pointer items-center gap-2 text-sm text-muted-foreground",children:[t.jsx("input",{type:"checkbox",checked:s.remove_image,onChange:n=>l("remove_image",n.target.checked),className:"rounded border-slate-300"}),"Remove picture"]})]}),e[67]=M,e[68]=s.image,e[69]=s.remove_image,e[70]=r,e[71]=o,e[72]=l,e[73]=N):N=e[73];let S;e[74]!==i.image?(S=t.jsx(q,{message:i.image}),e[74]=i.image,e[75]=S):S=e[75];let k;e[76]!==w||e[77]!==N||e[78]!==S?(k=t.jsxs("div",{className:"space-y-2",children:[oe,w,ce,N,S]}),e[76]=w,e[77]=N,e[78]=S,e[79]=k):k=e[79];let me;e[80]===Symbol.for("react.memo_cache_sentinel")?(me=t.jsx(O,{htmlFor:"published_at",children:"Publish date & time (optional)"}),e[80]=me):me=e[80];let C;e[81]!==l?(C=n=>l("published_at",n.target.value),e[81]=l,e[82]=C):C=e[82];let L;e[83]!==s.published_at||e[84]!==C?(L=t.jsx("input",{id:"published_at",type:"datetime-local",value:s.published_at,onChange:C,className:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-xs outline-none focus-visible:ring-[3px] focus-visible:ring-ring/50 md:text-sm"}),e[83]=s.published_at,e[84]=C,e[85]=L):L=e[85];let de;e[86]===Symbol.for("react.memo_cache_sentinel")?(de=t.jsx("p",{className:"text-xs text-muted-foreground",children:"Leave empty to publish immediately. Set a future date to schedule. Published items appear in the sidebar on About and Tourism pages."}),e[86]=de):de=e[86];let U;e[87]!==i.published_at?(U=t.jsx(q,{message:i.published_at}),e[87]=i.published_at,e[88]=U):U=e[88];let A;e[89]!==L||e[90]!==U?(A=t.jsxs("div",{className:"space-y-2",children:[me,L,de,U]}),e[89]=L,e[90]=U,e[91]=A):A=e[91];let pe;e[92]===Symbol.for("react.memo_cache_sentinel")?(pe=t.jsx(O,{htmlFor:"content",children:"Content"}),e[92]=pe):pe=e[92];let E;e[93]!==l?(E=n=>l("content",n.target.value),e[93]=l,e[94]=E):E=e[94];let F;e[95]!==s.content||e[96]!==E?(F=t.jsx("textarea",{id:"content",value:s.content,onChange:E,className:Je,placeholder:"Write the announcement...",required:!0}),e[95]=s.content,e[96]=E,e[97]=F):F=e[97];let T;e[98]!==i.content?(T=t.jsx(q,{message:i.content}),e[98]=i.content,e[99]=T):T=e[99];let P;e[100]!==F||e[101]!==T?(P=t.jsxs("div",{className:"space-y-2",children:[pe,F,T]}),e[100]=F,e[101]=T,e[102]=P):P=e[102];let R;e[103]!==h||e[104]!==g||e[105]!==v||e[106]!==k||e[107]!==A||e[108]!==P?(R=t.jsxs(Be,{children:[ee,t.jsxs(Me,{className:"space-y-4",children:[h,g,v,k,A,P]})]}),e[103]=h,e[104]=g,e[105]=v,e[106]=k,e[107]=A,e[108]=P,e[109]=R):R=e[109];const Ae=Q?"Saving...":r?"Save changes":"Publish post";let $;e[110]!==Q||e[111]!==Ae?($=t.jsx(Pe,{type:"submit",disabled:Q,children:Ae}),e[110]=Q,e[111]=Ae,e[112]=$):$=e[112];let ue;e[113]===Symbol.for("react.memo_cache_sentinel")?(ue=t.jsx(Pe,{type:"button",variant:"outline",asChild:!0,children:t.jsx(He,{href:B,children:"Cancel"})}),e[113]=ue):ue=e[113];let D;e[114]!==$?(D=t.jsxs("div",{className:"flex flex-wrap gap-3",children:[$,ue]}),e[114]=$,e[115]=D):D=e[115];let G;e[116]!==ke||e[117]!==R||e[118]!==D?(G=t.jsxs("form",{onSubmit:ke,className:"space-y-6",children:[R,D]}),e[116]=ke,e[117]=R,e[118]=D,e[119]=G):G=e[119];let H;e[120]!==p||e[121]!==G?(H=t.jsxs("div",{className:"flex flex-1 flex-col gap-6 overflow-x-auto px-4 py-6 md:px-6 lg:max-w-2xl",children:[p,G]}),e[120]=p,e[121]=G,e[122]=H):H=e[122];let I;e[123]!==Se?(I=t.jsx(qe,{open:Se,onOpenChange:Ee,title:"Saved"}),e[123]=Se,e[124]=I):I=e[124];let fe;return e[125]!==be||e[126]!==c||e[127]!==H||e[128]!==I?(fe=t.jsxs(We,{breadcrumbs:be,children:[c,H,I]}),e[125]=be,e[126]=c,e[127]=H,e[128]=I,e[129]=fe):fe=e[129],fe}export{ft as default};
