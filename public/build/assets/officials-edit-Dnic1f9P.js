import{c as It,r as P,u as $t,a as vt,j as t,b as Nt,H as Ht}from"./app-BIIX7BF1.js";import{I as kt}from"./input-error-Dog57yZH.js";import{c as Tt,B as W}from"./index-CZhuW6J2.js";import{C as Ft,a as Pt,d as Et,b as Ot,c as Bt}from"./card-B7J3uYGi.js";import{I as E}from"./input-D-thCKlr.js";import{L as u}from"./label-BrtNbNlo.js";import{T as Kt}from"./toast-CeNHnvtf.js";import{A as qt}from"./app-layout-CPMJcZkt.js";import{L as Gt}from"./landmark-CsYJgGDc.js";import{I as At}from"./image-plus-BC4q3Nap.js";import{U as Vt}from"./users-DgcjHilf.js";import{c as Jt}from"./createLucideIcon-rY7UP4mI.js";import{T as Qt}from"./trash-2-DOEAR1og.js";/* empty css            */import"./index-pjzQDydk.js";import"./check-CRkoq3Li.js";import"./x-D52Q4CUL.js";import"./transition-BBAuz0nm.js";import"./index-CTYiB3h6.js";import"./megaphone-Bvy9s0wX.js";import"./hard-hat-Bvnd2bTD.js";import"./briefcase-Bu0tNWqC.js";const Wt=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Xt=Jt("UserPlus",Wt),Yt="/dashboard",zt="/dashboard/officials",Zt="/dashboard/officials/mayor",ea="/dashboard/officials/vice-mayor",ta="/dashboard/officials/sb-members",aa=[{title:"Dashboard",href:Yt},{title:"Edit Key Officials",href:zt}];function Ua(_t){const e=It.c(213),{mayor:n,viceMayor:St,sbMembers:A}=_t,g=n??null,h=St??null;let I;e[0]!==A?(I=Array.isArray(A)?A:[],e[0]=A,e[1]=I):I=e[1];const p=I,[m,R]=P.useState(!1),[V,X]=P.useState(null),[o,J]=P.useState(null),[a,Q]=P.useState(null),[c,Y]=P.useState(null),[b,Z]=P.useState(!1),[j,O]=P.useState(!1),{errors:L}=$t().props;let B;e[2]!==L?(B=l=>{const d=L?.[l];return Array.isArray(d)?d[0]:d},e[2]=L,e[3]=B):B=e[3];const x=B,C=g?.name??"",D=g?.title??"Municipal Mayor",$=g?.detail??"";let y;e[4]!==C||e[5]!==D||e[6]!==$?(y={name:C,title:D,detail:$,image:null},e[4]=C,e[5]=D,e[6]=$,e[7]=y):y=e[7];const r=vt(y),k=h?.name??"",F=h?.title??"Vice Mayor",H=h?.detail??"";let v;e[8]!==k||e[9]!==F||e[10]!==H?(v={name:k,title:F,detail:H,image:null},e[8]=k,e[9]=F,e[10]=H,e[11]=v):v=e[11];const i=vt(v);let z;e[12]===Symbol.for("react.memo_cache_sentinel")?(z={name:"",title:"SB Member",detail:"",image:null},e[12]=z):z=e[12];const s=vt(z);let N,_;e[13]!==c||e[14]!==o||e[15]!==a?(N=()=>()=>{o&&URL.revokeObjectURL(o),a&&URL.revokeObjectURL(a),c&&URL.revokeObjectURL(c)},_=[o,a,c],e[13]=c,e[14]=o,e[15]=a,e[16]=N,e[17]=_):(N=e[16],_=e[17]),P.useEffect(N,_);const S=o??g?.image_url??null,w=a??h?.image_url??null,K=c;let U;e[18]===Symbol.for("react.memo_cache_sentinel")?(U=l=>{confirm("Remove this SB Member?")&&Nt.delete(`${zt}/sb-members/${l}`,{onSuccess:()=>R(!0)})},e[18]=U):U=e[18];const q=U;let M,T;e[19]===Symbol.for("react.memo_cache_sentinel")?(M=t.jsx(Ht,{title:"Edit Key Officials"}),T=t.jsx("h1",{className:"sr-only",children:"Edit Key Officials"}),e[19]=M,e[20]=T):(M=e[19],T=e[20]);let f;e[21]===Symbol.for("react.memo_cache_sentinel")?(f=t.jsxs("header",{className:"space-y-1",children:[t.jsx("h2",{className:"text-xl font-semibold tracking-tight md:text-2xl",children:"Key Officials"}),t.jsx("p",{className:"max-w-2xl text-sm text-muted-foreground",children:"Edit the Municipal Mayor, Vice Mayor, and Sangguniang Bayan members. Each can have a name, title, and photo."})]}),e[21]=f):f=e[21];let G;e[22]===Symbol.for("react.memo_cache_sentinel")?(G=t.jsxs(Ft,{className:"pb-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"flex size-9 items-center justify-center rounded-lg bg-primary/10 text-primary",children:t.jsx(Gt,{className:"size-4","aria-hidden":!0})}),t.jsx(Pt,{className:"text-base",children:"Our Mayor"})]}),t.jsx(Et,{children:"Name, title, and photo for the Municipal Mayor."})]}),e[22]=G):G=e[22];let ee;e[23]!==r||e[24]!==o?(ee=l=>{l.preventDefault(),Z(!0),Nt.post(Zt,{_method:"PUT",name:r.data.name,title:r.data.title,detail:r.data.detail,image:r.data.image},{forceFormData:!0,preserveScroll:!0,onSuccess:()=>{r.setData("image",null),o&&URL.revokeObjectURL(o),J(null),R(!0)},onFinish:()=>Z(!1)})},e[23]=r,e[24]=o,e[25]=ee):ee=e[25];let rt;e[26]===Symbol.for("react.memo_cache_sentinel")?(rt=t.jsx(u,{htmlFor:"mayor_name",children:"Name"}),e[26]=rt):rt=e[26];let te;e[27]!==r?(te=l=>r.setData("name",l.target.value),e[27]=r,e[28]=te):te=e[28];let ae;e[29]!==r.data.name||e[30]!==te?(ae=t.jsxs("div",{className:"space-y-2",children:[rt,t.jsx(E,{id:"mayor_name",value:r.data.name,onChange:te,placeholder:"Full name",className:"w-full"})]}),e[29]=r.data.name,e[30]=te,e[31]=ae):ae=e[31];let ot;e[32]===Symbol.for("react.memo_cache_sentinel")?(ot=t.jsx(u,{htmlFor:"mayor_title",children:"Title"}),e[32]=ot):ot=e[32];let se;e[33]!==r?(se=l=>r.setData("title",l.target.value),e[33]=r,e[34]=se):se=e[34];let le;e[35]!==r.data.title||e[36]!==se?(le=t.jsxs("div",{className:"space-y-2",children:[ot,t.jsx(E,{id:"mayor_title",value:r.data.title,onChange:se,placeholder:"e.g. Municipal Mayor",className:"w-full"})]}),e[35]=r.data.title,e[36]=se,e[37]=le):le=e[37];let nt;e[38]===Symbol.for("react.memo_cache_sentinel")?(nt=t.jsx(u,{htmlFor:"mayor_detail",children:"Detail (optional)"}),e[38]=nt):nt=e[38];let ie;e[39]!==r?(ie=l=>r.setData("detail",l.target.value),e[39]=r,e[40]=ie):ie=e[40];let re;e[41]!==r.data.detail||e[42]!==ie?(re=t.jsxs("div",{className:"space-y-2",children:[nt,t.jsx("textarea",{id:"mayor_detail",value:r.data.detail,onChange:ie,placeholder:"Brief background or description...",rows:3,className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:outline-none"})]}),e[41]=r.data.detail,e[42]=ie,e[43]=re):re=e[43];let ct;e[44]===Symbol.for("react.memo_cache_sentinel")?(ct=t.jsx(u,{htmlFor:"mayor_image",children:"Photo"}),e[44]=ct):ct=e[44];const wt=o?"border-muted-foreground/25 p-1":"border-muted-foreground/25 px-4 py-6";let oe;e[45]!==wt?(oe=Tt("flex min-h-30 cursor-pointer flex-col items-center justify-center rounded-lg border-2 border-dashed bg-muted/30 text-center transition-colors focus-within:border-primary focus-within:ring-2 focus-within:ring-primary/20 hover:border-muted-foreground/40 hover:bg-muted/50",wt),e[45]=wt,e[46]=oe):oe=e[46];let ne;e[47]!==r||e[48]!==o?(ne=t.jsx("input",{id:"mayor_image",type:"file",accept:"image/jpeg,image/png,image/gif,image/webp",className:"sr-only",onChange:l=>{const d=l.target.files?.[0]??null;r.setData("image",d),o&&URL.revokeObjectURL(o),J(d?URL.createObjectURL(d):null)}}),e[47]=r,e[48]=o,e[49]=ne):ne=e[49];let ce;e[50]!==o?(ce=o?t.jsx("img",{src:o,alt:"Preview",className:"max-h-28 w-full rounded-md object-contain"}):t.jsxs(t.Fragment,{children:[t.jsx(At,{className:"mb-1 size-6 text-muted-foreground"}),t.jsx("span",{className:"text-xs text-muted-foreground",children:"Choose image (optional)"})]}),e[50]=o,e[51]=ce):ce=e[51];let me;e[52]!==oe||e[53]!==ne||e[54]!==ce?(me=t.jsxs("div",{className:"space-y-2",children:[ct,t.jsxs("label",{htmlFor:"mayor_image",className:oe,children:[ne,ce]})]}),e[52]=oe,e[53]=ne,e[54]=ce,e[55]=me):me=e[55];let de;e[56]!==ae||e[57]!==le||e[58]!==re||e[59]!==me?(de=t.jsxs("div",{className:"flex min-w-0 flex-1 flex-col gap-4 sm:max-w-xs",children:[ae,le,re,me]}),e[56]=ae,e[57]=le,e[58]=re,e[59]=me,e[60]=de):de=e[60];let fe;e[61]!==g?.image_url||e[62]!==S?(fe=(S||g?.image_url)&&t.jsx("img",{src:S??g?.image_url??"",alt:"",className:"h-32 w-32 rounded-lg border bg-muted object-cover shadow-sm"}),e[61]=g?.image_url,e[62]=S,e[63]=fe):fe=e[63];const Ut=b?"Saving...":"Save Mayor";let ue;e[64]!==b||e[65]!==Ut?(ue=t.jsx(W,{type:"submit",disabled:b,children:Ut}),e[64]=b,e[65]=Ut,e[66]=ue):ue=e[66];let xe;e[67]!==fe||e[68]!==ue?(xe=t.jsxs("div",{className:"flex flex-col items-start gap-2",children:[fe,ue]}),e[67]=fe,e[68]=ue,e[69]=xe):xe=e[69];let ge;e[70]!==ee||e[71]!==de||e[72]!==xe?(ge=t.jsxs("form",{onSubmit:ee,className:"flex flex-col gap-4 sm:flex-row sm:items-start sm:gap-6",children:[de,xe]}),e[70]=ee,e[71]=de,e[72]=xe,e[73]=ge):ge=e[73];let he;e[74]!==x||e[75]!==r.errors.image?(he=r.errors.image??x("image"),e[74]=x,e[75]=r.errors.image,e[76]=he):he=e[76];let pe;e[77]!==he?(pe=t.jsx(kt,{message:he}),e[77]=he,e[78]=pe):pe=e[78];let be;e[79]!==ge||e[80]!==pe?(be=t.jsxs(Ot,{children:[G,t.jsxs(Bt,{className:"space-y-4",children:[ge,pe]})]}),e[79]=ge,e[80]=pe,e[81]=be):be=e[81];let mt;e[82]===Symbol.for("react.memo_cache_sentinel")?(mt=t.jsxs(Ft,{className:"pb-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"flex size-9 items-center justify-center rounded-lg bg-primary/10 text-primary",children:t.jsx(Vt,{className:"size-4","aria-hidden":!0})}),t.jsx(Pt,{className:"text-base",children:"Vice Mayor"})]}),t.jsx(Et,{children:"Name, title, and photo for the Vice Mayor."})]}),e[82]=mt):mt=e[82];let je;e[83]!==i||e[84]!==a?(je=l=>{l.preventDefault(),O(!0),Nt.post(ea,{_method:"PUT",name:i.data.name,title:i.data.title,detail:i.data.detail,image:i.data.image},{forceFormData:!0,preserveScroll:!0,onSuccess:()=>{i.setData("image",null),a&&URL.revokeObjectURL(a),Q(null),R(!0)},onFinish:()=>O(!1)})},e[83]=i,e[84]=a,e[85]=je):je=e[85];let dt;e[86]===Symbol.for("react.memo_cache_sentinel")?(dt=t.jsx(u,{htmlFor:"vice_mayor_name",children:"Name"}),e[86]=dt):dt=e[86];let ye;e[87]!==i?(ye=l=>i.setData("name",l.target.value),e[87]=i,e[88]=ye):ye=e[88];let ve;e[89]!==ye||e[90]!==i.data.name?(ve=t.jsxs("div",{className:"space-y-2",children:[dt,t.jsx(E,{id:"vice_mayor_name",value:i.data.name,onChange:ye,placeholder:"Full name",className:"w-full"})]}),e[89]=ye,e[90]=i.data.name,e[91]=ve):ve=e[91];let ft;e[92]===Symbol.for("react.memo_cache_sentinel")?(ft=t.jsx(u,{htmlFor:"vice_mayor_title",children:"Title"}),e[92]=ft):ft=e[92];let Ne;e[93]!==i?(Ne=l=>i.setData("title",l.target.value),e[93]=i,e[94]=Ne):Ne=e[94];let _e;e[95]!==Ne||e[96]!==i.data.title?(_e=t.jsxs("div",{className:"space-y-2",children:[ft,t.jsx(E,{id:"vice_mayor_title",value:i.data.title,onChange:Ne,placeholder:"e.g. Vice Mayor",className:"w-full"})]}),e[95]=Ne,e[96]=i.data.title,e[97]=_e):_e=e[97];let ut;e[98]===Symbol.for("react.memo_cache_sentinel")?(ut=t.jsx(u,{htmlFor:"vice_mayor_detail",children:"Detail (optional)"}),e[98]=ut):ut=e[98];let Se;e[99]!==i?(Se=l=>i.setData("detail",l.target.value),e[99]=i,e[100]=Se):Se=e[100];let we;e[101]!==Se||e[102]!==i.data.detail?(we=t.jsxs("div",{className:"space-y-2",children:[ut,t.jsx("textarea",{id:"vice_mayor_detail",value:i.data.detail,onChange:Se,placeholder:"Brief background or description...",rows:3,className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:outline-none"})]}),e[101]=Se,e[102]=i.data.detail,e[103]=we):we=e[103];let xt;e[104]===Symbol.for("react.memo_cache_sentinel")?(xt=t.jsx(u,{htmlFor:"vice_mayor_image",children:"Photo"}),e[104]=xt):xt=e[104];const Mt=a?"border-muted-foreground/25 p-1":"border-muted-foreground/25 px-4 py-6";let Ue;e[105]!==Mt?(Ue=Tt("flex min-h-30 cursor-pointer flex-col items-center justify-center rounded-lg border-2 border-dashed bg-muted/30 text-center transition-colors focus-within:border-primary focus-within:ring-2 focus-within:ring-primary/20 hover:border-muted-foreground/40 hover:bg-muted/50",Mt),e[105]=Mt,e[106]=Ue):Ue=e[106];let Me;e[107]!==i||e[108]!==a?(Me=t.jsx("input",{id:"vice_mayor_image",type:"file",accept:"image/jpeg,image/png,image/gif,image/webp",className:"sr-only",onChange:l=>{const d=l.target.files?.[0]??null;i.setData("image",d),a&&URL.revokeObjectURL(a),Q(d?URL.createObjectURL(d):null)}}),e[107]=i,e[108]=a,e[109]=Me):Me=e[109];let Re;e[110]!==a?(Re=a?t.jsx("img",{src:a,alt:"Preview",className:"max-h-28 w-full rounded-md object-contain"}):t.jsxs(t.Fragment,{children:[t.jsx(At,{className:"mb-1 size-6 text-muted-foreground"}),t.jsx("span",{className:"text-xs text-muted-foreground",children:"Choose image (optional)"})]}),e[110]=a,e[111]=Re):Re=e[111];let Le;e[112]!==Ue||e[113]!==Me||e[114]!==Re?(Le=t.jsxs("div",{className:"space-y-2",children:[xt,t.jsxs("label",{htmlFor:"vice_mayor_image",className:Ue,children:[Me,Re]})]}),e[112]=Ue,e[113]=Me,e[114]=Re,e[115]=Le):Le=e[115];let Ce;e[116]!==ve||e[117]!==_e||e[118]!==we||e[119]!==Le?(Ce=t.jsxs("div",{className:"flex min-w-0 flex-1 flex-col gap-4 sm:max-w-xs",children:[ve,_e,we,Le]}),e[116]=ve,e[117]=_e,e[118]=we,e[119]=Le,e[120]=Ce):Ce=e[120];let De;e[121]!==h?.image_url||e[122]!==w?(De=(w||h?.image_url)&&t.jsx("img",{src:w??h?.image_url??"",alt:"",className:"h-32 w-32 rounded-lg border bg-muted object-cover shadow-sm"}),e[121]=h?.image_url,e[122]=w,e[123]=De):De=e[123];const Rt=j?"Saving...":"Save Vice Mayor";let ke;e[124]!==Rt||e[125]!==j?(ke=t.jsx(W,{type:"submit",disabled:j,children:Rt}),e[124]=Rt,e[125]=j,e[126]=ke):ke=e[126];let Fe;e[127]!==De||e[128]!==ke?(Fe=t.jsxs("div",{className:"flex flex-col items-start gap-2",children:[De,ke]}),e[127]=De,e[128]=ke,e[129]=Fe):Fe=e[129];let Pe;e[130]!==je||e[131]!==Ce||e[132]!==Fe?(Pe=t.jsxs("form",{onSubmit:je,className:"flex flex-col gap-4 sm:flex-row sm:items-start sm:gap-6",children:[Ce,Fe]}),e[130]=je,e[131]=Ce,e[132]=Fe,e[133]=Pe):Pe=e[133];let Ee;e[134]!==x||e[135]!==i.errors.image?(Ee=i.errors.image??x("image"),e[134]=x,e[135]=i.errors.image,e[136]=Ee):Ee=e[136];let Oe;e[137]!==Ee?(Oe=t.jsx(kt,{message:Ee}),e[137]=Ee,e[138]=Oe):Oe=e[138];let Be;e[139]!==Pe||e[140]!==Oe?(Be=t.jsxs(Ot,{children:[mt,t.jsxs(Bt,{className:"space-y-4",children:[Pe,Oe]})]}),e[139]=Pe,e[140]=Oe,e[141]=Be):Be=e[141];let gt;e[142]===Symbol.for("react.memo_cache_sentinel")?(gt=t.jsxs(Ft,{className:"pb-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"flex size-9 items-center justify-center rounded-lg bg-muted text-muted-foreground",children:t.jsx(Xt,{className:"size-4","aria-hidden":!0})}),t.jsx(Pt,{className:"text-base",children:"SB Members"})]}),t.jsx(Et,{children:"Add or edit Sangguniang Bayan members. Each needs a name and photo."})]}),e[142]=gt):gt=e[142];let ht;e[143]===Symbol.for("react.memo_cache_sentinel")?(ht=t.jsx("p",{className:"mb-3 text-sm font-medium",children:"Add SB Member"}),e[143]=ht):ht=e[143];let ze;e[144]!==s||e[145]!==c?(ze=l=>{l.preventDefault(),s.data.image&&s.post(ta,{forceFormData:!0,onSuccess:()=>{s.reset(),c&&URL.revokeObjectURL(c),Y(null),R(!0)}})},e[144]=s,e[145]=c,e[146]=ze):ze=e[146];let pt;e[147]===Symbol.for("react.memo_cache_sentinel")?(pt=t.jsx(u,{htmlFor:"sb_name",className:"text-xs",children:"Name"}),e[147]=pt):pt=e[147];let Te;e[148]!==s?(Te=l=>s.setData("name",l.target.value),e[148]=s,e[149]=Te):Te=e[149];let Ae;e[150]!==s.data.name||e[151]!==Te?(Ae=t.jsxs("div",{className:"min-w-0 flex-1 space-y-1",children:[pt,t.jsx(E,{id:"sb_name",value:s.data.name,onChange:Te,placeholder:"Full name",className:"h-9"})]}),e[150]=s.data.name,e[151]=Te,e[152]=Ae):Ae=e[152];let bt;e[153]===Symbol.for("react.memo_cache_sentinel")?(bt=t.jsx(u,{htmlFor:"sb_title",className:"text-xs",children:"Title"}),e[153]=bt):bt=e[153];let Ie;e[154]!==s?(Ie=l=>s.setData("title",l.target.value),e[154]=s,e[155]=Ie):Ie=e[155];let Ve;e[156]!==s.data.title||e[157]!==Ie?(Ve=t.jsxs("div",{className:"min-w-0 flex-1 space-y-1",children:[bt,t.jsx(E,{id:"sb_title",value:s.data.title,onChange:Ie,placeholder:"SB Member",className:"h-9"})]}),e[156]=s.data.title,e[157]=Ie,e[158]=Ve):Ve=e[158];let jt;e[159]===Symbol.for("react.memo_cache_sentinel")?(jt=t.jsx(u,{htmlFor:"sb_detail",className:"text-xs",children:"Detail (optional)"}),e[159]=jt):jt=e[159];let $e;e[160]!==s?($e=l=>s.setData("detail",l.target.value),e[160]=s,e[161]=$e):$e=e[161];let He;e[162]!==s.data.detail||e[163]!==$e?(He=t.jsxs("div",{className:"min-w-0 flex-1 space-y-1",children:[jt,t.jsx(E,{id:"sb_detail",value:s.data.detail,onChange:$e,placeholder:"Brief description...",className:"h-9"})]}),e[162]=s.data.detail,e[163]=$e,e[164]=He):He=e[164];let Ke;e[165]!==s||e[166]!==c?(Ke=t.jsx("input",{type:"file",accept:"image/jpeg,image/png,image/gif,image/webp",className:"sr-only",onChange:l=>{const d=l.target.files?.[0]??null;s.setData("image",d),c&&URL.revokeObjectURL(c),Y(d?URL.createObjectURL(d):null)}}),e[165]=s,e[166]=c,e[167]=Ke):Ke=e[167];const Lt=s.data.image?s.data.image.name:"Photo *";let qe;e[168]!==Ke||e[169]!==Lt?(qe=t.jsxs("label",{className:"flex h-9 cursor-pointer items-center rounded-md border border-input bg-background px-3 py-1 text-sm",children:[Ke,Lt]}),e[168]=Ke,e[169]=Lt,e[170]=qe):qe=e[170];const Ct=s.processing||!s.data.image,Dt=s.processing?"Adding...":"Add";let Ge;e[171]!==Ct||e[172]!==Dt?(Ge=t.jsx(W,{type:"submit",size:"sm",disabled:Ct,children:Dt}),e[171]=Ct,e[172]=Dt,e[173]=Ge):Ge=e[173];let Je;e[174]!==qe||e[175]!==Ge?(Je=t.jsxs("div",{className:"flex items-end gap-2",children:[qe,Ge]}),e[174]=qe,e[175]=Ge,e[176]=Je):Je=e[176];let Qe;e[177]!==Ae||e[178]!==Ve||e[179]!==He||e[180]!==Je?(Qe=t.jsxs("div",{className:"flex flex-1 flex-wrap gap-3 sm:flex-nowrap",children:[Ae,Ve,He,Je]}),e[177]=Ae,e[178]=Ve,e[179]=He,e[180]=Je,e[181]=Qe):Qe=e[181];let We;e[182]!==ze||e[183]!==Qe?(We=t.jsx("form",{onSubmit:ze,className:"flex flex-col gap-4 sm:flex-row sm:items-end",children:Qe}),e[182]=ze,e[183]=Qe,e[184]=We):We=e[184];let Xe;e[185]!==K?(Xe=K&&t.jsx("img",{src:K,alt:"",className:"mt-2 h-20 w-20 rounded border object-cover"}),e[185]=K,e[186]=Xe):Xe=e[186];let Ye;e[187]!==s.errors.image?(Ye=t.jsx(kt,{message:s.errors.image}),e[187]=s.errors.image,e[188]=Ye):Ye=e[188];let Ze;e[189]!==We||e[190]!==Xe||e[191]!==Ye?(Ze=t.jsxs("div",{className:"rounded-lg border border-dashed p-4",children:[ht,We,Xe,Ye]}),e[189]=We,e[190]=Xe,e[191]=Ye,e[192]=Ze):Ze=e[192];let et;e[193]!==p.length?(et=t.jsxs("p",{className:"mb-3 text-sm font-medium",children:["Current SB Members (",p.length,")"]}),e[193]=p.length,e[194]=et):et=e[194];let tt;e[195]!==V||e[196]!==p?(tt=p.length===0?t.jsx("div",{className:"rounded-lg border border-dashed bg-muted/20 py-8 text-center text-sm text-muted-foreground",children:"No SB members yet. Add one above."}):t.jsx("ul",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:p.map(l=>t.jsx(sa,{member:l,isEditing:V===l.id,onStartEdit:()=>X(l.id),onCancelEdit:()=>X(null),onSaved:()=>{X(null),R(!0)},onRemove:()=>q(l.id)},l.id))}),e[195]=V,e[196]=p,e[197]=tt):tt=e[197];let at;e[198]!==et||e[199]!==tt?(at=t.jsxs("div",{children:[et,tt]}),e[198]=et,e[199]=tt,e[200]=at):at=e[200];let st;e[201]!==Ze||e[202]!==at?(st=t.jsxs(Ot,{children:[gt,t.jsxs(Bt,{className:"space-y-6",children:[Ze,at]})]}),e[201]=Ze,e[202]=at,e[203]=st):st=e[203];let lt;e[204]!==be||e[205]!==Be||e[206]!==st?(lt=t.jsxs("div",{className:"flex flex-1 flex-col gap-6 overflow-x-auto px-4 py-6 md:px-6 lg:max-w-5xl",children:[f,be,Be,st]}),e[204]=be,e[205]=Be,e[206]=st,e[207]=lt):lt=e[207];let it;e[208]!==m?(it=t.jsx(Kt,{open:m,onOpenChange:R,title:"Saved"}),e[208]=m,e[209]=it):it=e[209];let yt;return e[210]!==lt||e[211]!==it?(yt=t.jsxs(qt,{breadcrumbs:aa,children:[M,T,lt,it]}),e[210]=lt,e[211]=it,e[212]=yt):yt=e[212],yt}function sa(_t){const e=It.c(78),{member:n,isEditing:St,onStartEdit:A,onCancelEdit:g,onSaved:h,onRemove:I}=_t,p=`${zt}/sb-members/${n.id}`,[m,R]=P.useState(null),[V,X]=P.useState(!1),o=n.detail??"";let J;e[0]!==n.name||e[1]!==n.title||e[2]!==o?(J={name:n.name,title:n.title,detail:o,image:null},e[0]=n.name,e[1]=n.title,e[2]=o,e[3]=J):J=e[3];const a=vt(J),Q=m??n.image_url??"";if(St){let y;e[4]!==m||e[5]!==a.data.detail||e[6]!==a.data.image||e[7]!==a.data.name||e[8]!==a.data.title||e[9]!==h||e[10]!==p?(y=f=>{f.preventDefault(),X(!0),Nt.post(p,{_method:"PUT",name:a.data.name,title:a.data.title,detail:a.data.detail,image:a.data.image},{forceFormData:!0,preserveScroll:!0,onSuccess:()=>{m&&URL.revokeObjectURL(m),R(null),h()},onFinish:()=>X(!1)})},e[4]=m,e[5]=a.data.detail,e[6]=a.data.image,e[7]=a.data.name,e[8]=a.data.title,e[9]=h,e[10]=p,e[11]=y):y=e[11];let r;e[12]===Symbol.for("react.memo_cache_sentinel")?(r=t.jsx(u,{className:"text-xs",children:"Name"}),e[12]=r):r=e[12];let k;e[13]!==a?(k=f=>a.setData("name",f.target.value),e[13]=a,e[14]=k):k=e[14];let F;e[15]!==a.data.name||e[16]!==k?(F=t.jsxs("div",{className:"space-y-1",children:[r,t.jsx(E,{value:a.data.name,onChange:k,placeholder:"Full name",className:"h-9"})]}),e[15]=a.data.name,e[16]=k,e[17]=F):F=e[17];let H;e[18]===Symbol.for("react.memo_cache_sentinel")?(H=t.jsx(u,{className:"text-xs",children:"Title"}),e[18]=H):H=e[18];let v;e[19]!==a?(v=f=>a.setData("title",f.target.value),e[19]=a,e[20]=v):v=e[20];let i;e[21]!==a.data.title||e[22]!==v?(i=t.jsxs("div",{className:"space-y-1",children:[H,t.jsx(E,{value:a.data.title,onChange:v,className:"h-9"})]}),e[21]=a.data.title,e[22]=v,e[23]=i):i=e[23];let z;e[24]===Symbol.for("react.memo_cache_sentinel")?(z=t.jsx(u,{className:"text-xs",children:"Detail (optional)"}),e[24]=z):z=e[24];let s;e[25]!==a?(s=f=>a.setData("detail",f.target.value),e[25]=a,e[26]=s):s=e[26];let N;e[27]!==a.data.detail||e[28]!==s?(N=t.jsxs("div",{className:"space-y-1",children:[z,t.jsx(E,{value:a.data.detail,onChange:s,placeholder:"Brief description...",className:"h-9"})]}),e[27]=a.data.detail,e[28]=s,e[29]=N):N=e[29];let _;e[30]!==m||e[31]!==a?(_=t.jsxs("label",{className:"flex cursor-pointer items-center rounded border bg-muted/50 px-2 py-1 text-xs",children:[t.jsx("input",{type:"file",accept:"image/jpeg,image/png,image/gif,image/webp",className:"sr-only",onChange:f=>{const G=f.target.files?.[0]??null;a.setData("image",G),m&&URL.revokeObjectURL(m),R(G?URL.createObjectURL(G):null)}}),"New photo (optional)"]}),e[30]=m,e[31]=a,e[32]=_):_=e[32];let S;e[33]!==Q?(S=Q&&t.jsx("img",{src:Q,alt:"",className:"h-14 w-14 rounded object-cover"}),e[33]=Q,e[34]=S):S=e[34];let w;e[35]!==_||e[36]!==S?(w=t.jsxs("div",{className:"flex items-center gap-2",children:[_,S]}),e[35]=_,e[36]=S,e[37]=w):w=e[37];const K=V?"Saving...":"Save";let U;e[38]!==V||e[39]!==K?(U=t.jsx(W,{type:"submit",size:"sm",disabled:V,children:K}),e[38]=V,e[39]=K,e[40]=U):U=e[40];let q;e[41]!==m||e[42]!==g?(q=t.jsx(W,{type:"button",variant:"outline",size:"sm",onClick:()=>{m&&URL.revokeObjectURL(m),R(null),g()},children:"Cancel"}),e[41]=m,e[42]=g,e[43]=q):q=e[43];let M;e[44]!==U||e[45]!==q?(M=t.jsxs("div",{className:"flex gap-2",children:[U,q]}),e[44]=U,e[45]=q,e[46]=M):M=e[46];let T;return e[47]!==N||e[48]!==w||e[49]!==M||e[50]!==y||e[51]!==F||e[52]!==i?(T=t.jsx("li",{className:"rounded-lg border bg-card p-4 shadow-sm",children:t.jsxs("form",{onSubmit:y,className:"space-y-3",children:[F,i,N,w,M]})}),e[47]=N,e[48]=w,e[49]=M,e[50]=y,e[51]=F,e[52]=i,e[53]=T):T=e[53],T}let c;e[54]!==n.image_url?(c=n.image_url?t.jsx("img",{src:n.image_url,alt:"",className:"h-20 w-20 shrink-0 rounded-lg object-cover"}):t.jsx("div",{className:"flex h-20 w-20 shrink-0 items-center justify-center rounded-lg bg-muted text-muted-foreground",children:t.jsx(Vt,{className:"size-8"})}),e[54]=n.image_url,e[55]=c):c=e[55];const Y=n.name||"Unnamed";let b;e[56]!==Y?(b=t.jsx("p",{className:"font-medium text-foreground",children:Y}),e[56]=Y,e[57]=b):b=e[57];const Z=n.title||"SB Member";let j;e[58]!==Z?(j=t.jsx("p",{className:"text-xs text-muted-foreground",children:Z}),e[58]=Z,e[59]=j):j=e[59];let O;e[60]!==n.detail?(O=n.detail&&t.jsx("p",{className:"mt-1 line-clamp-2 text-xs text-muted-foreground",children:n.detail}),e[60]=n.detail,e[61]=O):O=e[61];let L;e[62]!==A?(L=t.jsx(W,{type:"button",variant:"outline",size:"sm",className:"h-7 text-xs",onClick:A,children:"Edit"}),e[62]=A,e[63]=L):L=e[63];let B;e[64]===Symbol.for("react.memo_cache_sentinel")?(B=t.jsx(Qt,{className:"size-3"}),e[64]=B):B=e[64];let x;e[65]!==I?(x=t.jsxs(W,{type:"button",variant:"destructive",size:"sm",className:"h-7 gap-1 text-xs",onClick:I,children:[B,"Remove"]}),e[65]=I,e[66]=x):x=e[66];let C;e[67]!==x||e[68]!==L?(C=t.jsxs("div",{className:"mt-2 flex gap-1 opacity-0 transition-opacity group-hover:opacity-100",children:[L,x]}),e[67]=x,e[68]=L,e[69]=C):C=e[69];let D;e[70]!==C||e[71]!==b||e[72]!==j||e[73]!==O?(D=t.jsxs("div",{className:"min-w-0 flex-1",children:[b,j,O,C]}),e[70]=C,e[71]=b,e[72]=j,e[73]=O,e[74]=D):D=e[74];let $;return e[75]!==D||e[76]!==c?($=t.jsxs("li",{className:"group relative flex gap-3 rounded-lg border bg-card p-3 shadow-sm",children:[c,D]}),e[75]=D,e[76]=c,e[77]=$):$=e[77],$}export{Ua as default};
