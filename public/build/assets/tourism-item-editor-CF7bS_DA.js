import{c as ds,u as ns,a as Yt,r as _t,j as t,b as yt,H as cs}from"./app-BIIX7BF1.js";import{I as n}from"./input-error-Dog57yZH.js";import{B as ms}from"./badge-Cb5w33qk.js";import{B as Ve}from"./index-CZhuW6J2.js";import{c as Zt,a as es,d as ts,C as ss,b as as}from"./card-B7J3uYGi.js";import{D as ps,a as us,b as xs,c as gs,d as fs,e as hs}from"./dialog-bbBFuOrf.js";import{L as o}from"./label-BrtNbNlo.js";import{T as ls}from"./toast-CeNHnvtf.js";import{A as bs}from"./app-layout-CPMJcZkt.js";import{X as Kt}from"./x-D52Q4CUL.js";import{P as js}from"./pencil-BPgp3n-a.js";import{T as vs}from"./trash-2-DOEAR1og.js";import{I as Xt}from"./image-plus-BC4q3Nap.js";import{C as _s}from"./check-CRkoq3Li.js";import{K as ys}from"./transition-BBAuz0nm.js";const is="border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 min-h-[120px] w-full rounded-lg border bg-transparent px-3 py-2.5 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:opacity-50 md:text-sm resize-y";function Us(He){const e=ds.c(261),{pageTitle:c,pageDescription:Nt,breadcrumbs:wt,headTitle:Ct,baseUrl:d,items:g,emptyMessage:qe,addTitle:Dt,addDescription:St,Icon:f,currentLabel:m,type:Jt}=He,b=Jt==="attraction"||Jt==="resort",rs=ns().props.errors??{},x=Object.fromEntries(Object.entries(rs).map(ws));let Ke;e[0]===Symbol.for("react.memo_cache_sentinel")?(Ke=[],e[0]=Ke):Ke=e[0];let Xe;e[1]===Symbol.for("react.memo_cache_sentinel")?(Xe={title:"",description:"",address:"",email:"",contact_number:"",social_media_url:"",map_embed_url:"",map_latitude:"",map_longitude:"",images:Ke},e[1]=Xe):Xe=e[1];const l=Yt(Xe);let Je;e[2]===Symbol.for("react.memo_cache_sentinel")?(Je=[],e[2]=Je):Je=e[2];let Qe;e[3]===Symbol.for("react.memo_cache_sentinel")?(Qe={title:"",description:"",address:"",email:"",contact_number:"",social_media_url:"",map_embed_url:"",map_latitude:"",map_longitude:"",images:Je},e[3]=Qe):Qe=e[3];const a=Yt(Qe),[Ft,Qt]=_t.useState(!1),[kt,zt]=_t.useState(!1),[p,Et]=_t.useState(null),[Tt,Wt]=_t.useState(!1);let We;e[4]!==a?(We=s=>{a.setData({title:s.title,description:s.description??"",address:s.address??"",email:s.email??"",contact_number:s.contact_number??"",social_media_url:s.social_media_url??"",map_embed_url:s.map_embed_url??"",map_latitude:s.map_latitude!=null?String(s.map_latitude):"",map_longitude:s.map_longitude!=null?String(s.map_longitude):"",images:[]}),Et(s),Wt(!0)},e[4]=a,e[5]=We):We=e[5];const $t=We;let Ye;e[6]!==a?(Ye=()=>{Wt(!1),Et(null),a.reset()},e[6]=a,e[7]=Ye):Ye=e[7];const u=Ye;let Ze;e[8]!==l||e[9]!==d?(Ze=s=>{if(s.preventDefault(),l.data.images.length===0)return;const i=new FormData;i.set("title",l.data.title),i.set("description",l.data.description),i.set("address",l.data.address),i.set("email",l.data.email),i.set("contact_number",l.data.contact_number),i.set("social_media_url",l.data.social_media_url),i.set("map_embed_url",l.data.map_embed_url),l.data.map_latitude&&i.set("map_latitude",l.data.map_latitude),l.data.map_longitude&&i.set("map_longitude",l.data.map_longitude),l.data.images.forEach(r=>i.append("images[]",r)),yt.post(d,i,{forceFormData:!0,onSuccess:()=>{l.reset(),Qt(!0)}})},e[8]=l,e[9]=d,e[10]=Ze):Ze=e[10];const At=Ze;let et;e[11]!==d||e[12]!==u||e[13]!==a||e[14]!==p?(et=s=>{if(s.preventDefault(),p==null)return;if(a.data.images.length>0){const r=new FormData;r.set("title",a.data.title),r.set("description",a.data.description),r.set("address",a.data.address),r.set("email",a.data.email),r.set("contact_number",a.data.contact_number),r.set("social_media_url",a.data.social_media_url),r.set("map_embed_url",a.data.map_embed_url),a.data.map_latitude&&r.set("map_latitude",a.data.map_latitude),a.data.map_longitude&&r.set("map_longitude",a.data.map_longitude),r.set("_method","PUT"),a.data.images.forEach(h=>r.append("images[]",h)),yt.post(`${d}/${p.id}`,r,{forceFormData:!0,onSuccess:()=>{u(),zt(!0)}})}else a.transform(Ns),a.post(`${d}/${p.id}`,{forceFormData:!0,onSuccess:()=>{u(),zt(!0)}})},e[11]=d,e[12]=u,e[13]=a,e[14]=p,e[15]=et):et=e[15];const Mt=et;let tt;e[16]!==d||e[17]!==m?(tt=s=>{confirm(`Remove this ${m.toLowerCase()}?`)&&yt.delete(`${d}/${s}`)},e[16]=d,e[17]=m,e[18]=tt):tt=e[18];const Rt=tt;let st;e[19]!==d?(st=s=>{confirm("Remove this image?")&&(Et(i=>i?{...i,image_urls:i.image_urls.filter(r=>r.id!==s)}:null),yt.delete(`${d}/images/${s}`))},e[19]=d,e[20]=st):st=e[20];const It=st;let j;e[21]!==Ct?(j=t.jsx(cs,{title:Ct}),e[21]=Ct,e[22]=j):j=e[22];let v;e[23]!==c?(v=t.jsx("h1",{className:"sr-only",children:c}),e[23]=c,e[24]=v):v=e[24];let _;e[25]!==c?(_=t.jsx("h2",{className:"text-xl font-semibold tracking-tight md:text-2xl",children:c}),e[25]=c,e[26]=_):_=e[26];let y;e[27]!==Nt?(y=t.jsx("p",{className:"max-w-2xl text-sm text-muted-foreground",children:Nt}),e[27]=Nt,e[28]=y):y=e[28];let N;e[29]!==_||e[30]!==y?(N=t.jsxs("header",{className:"space-y-1",children:[_,y]}),e[29]=_,e[30]=y,e[31]=N):N=e[31];let at;e[32]===Symbol.for("react.memo_cache_sentinel")?(at=t.jsx("span",{className:"flex size-9 items-center justify-center rounded-lg bg-muted text-muted-foreground",children:t.jsx(Xt,{className:"size-4","aria-hidden":!0})}),e[32]=at):at=e[32];let w;e[33]!==Dt?(w=t.jsxs("div",{className:"flex items-center gap-2",children:[at,t.jsx(es,{className:"text-base",children:Dt})]}),e[33]=Dt,e[34]=w):w=e[34];let C;e[35]!==St?(C=t.jsx(ts,{children:St}),e[35]=St,e[36]=C):C=e[36];let D;e[37]!==w||e[38]!==C?(D=t.jsxs(ss,{className:"pb-3",children:[w,C]}),e[37]=w,e[38]=C,e[39]=D):D=e[39];let lt;e[40]===Symbol.for("react.memo_cache_sentinel")?(lt=t.jsx(o,{htmlFor:"add-title",children:"Title"}),e[40]=lt):lt=e[40];let S;e[41]!==l?(S=s=>l.setData("title",s.target.value),e[41]=l,e[42]=S):S=e[42];let F;e[43]!==l.data.title||e[44]!==S?(F=t.jsx("input",{id:"add-title",type:"text",value:l.data.title,onChange:S,className:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-xs outline-none focus-visible:ring-[3px] focus-visible:ring-ring/50 md:text-sm",placeholder:"e.g. Beach View Point",required:!0}),e[43]=l.data.title,e[44]=S,e[45]=F):F=e[45];const Lt=l.errors.title??x.title;let k;e[46]!==Lt?(k=t.jsx(n,{message:Lt}),e[46]=Lt,e[47]=k):k=e[47];let z;e[48]!==F||e[49]!==k?(z=t.jsxs("div",{className:"space-y-2",children:[lt,F,k]}),e[48]=F,e[49]=k,e[50]=z):z=e[50];let it;e[51]===Symbol.for("react.memo_cache_sentinel")?(it=t.jsx(o,{htmlFor:"add-images",children:"Images (1, 2, or more)"}),e[51]=it):it=e[51];let rt;e[52]===Symbol.for("react.memo_cache_sentinel")?(rt=t.jsx(Xt,{className:"size-4"}),e[52]=rt):rt=e[52];let E,T;e[53]!==l?(E=t.jsxs("label",{htmlFor:"add-images",className:"flex cursor-pointer items-center gap-2 rounded-md border border-input px-3 py-2 text-sm transition-colors hover:bg-muted/50",children:[rt,"Choose 1 or more files",t.jsx("input",{id:"add-images",type:"file",accept:"image/jpeg,image/png,image/gif,image/webp",className:"sr-only",multiple:!0,onChange:s=>{const i=s.target.files,r=i?Array.from(i):[];l.setData("images",[...l.data.images,...r]),s.target.value=""}})]}),T=l.data.images.length>0&&t.jsxs(t.Fragment,{children:[t.jsxs("p",{className:"text-xs text-muted-foreground",children:[l.data.images.length," ","image(s) selected"]}),t.jsx("div",{className:"flex flex-wrap gap-2",children:l.data.images.map((s,i)=>{const r=s instanceof File?URL.createObjectURL(s):null;return t.jsxs("div",{className:"relative",children:[r?t.jsx("img",{src:r,alt:`Preview ${i+1}`,className:"h-20 w-20 rounded-md border object-cover"}):t.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-md border bg-muted text-xs text-muted-foreground",children:s.name}),t.jsx("button",{type:"button",onClick:h=>{h.preventDefault(),h.stopPropagation(),l.setData("images",l.data.images.filter((os,qt)=>qt!==i))},className:"absolute -top-1 -right-1 z-10 flex size-6 cursor-pointer items-center justify-center rounded-full border-2 border-white bg-destructive text-white shadow-md transition-transform hover:scale-110 hover:opacity-90 focus:ring-2 focus:ring-ring focus:outline-none","aria-label":"Remove from selection",children:t.jsx(Kt,{className:"size-3.5 shrink-0 stroke-[2.5]"})})]},`add-${i}-${s.name}`)})})]}),e[53]=l,e[54]=E,e[55]=T):(E=e[54],T=e[55]);let $;e[56]!==E||e[57]!==T?($=t.jsxs("div",{className:"flex flex-col gap-2",children:[E,T]}),e[56]=E,e[57]=T,e[58]=$):$=e[58];const Pt=l.errors.images??x.images;let A;e[59]!==Pt?(A=t.jsx(n,{message:Pt}),e[59]=Pt,e[60]=A):A=e[60];let M;e[61]!==$||e[62]!==A?(M=t.jsxs("div",{className:"space-y-2",children:[it,$,A]}),e[61]=$,e[62]=A,e[63]=M):M=e[63];let R;e[64]!==z||e[65]!==M?(R=t.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[z,M]}),e[64]=z,e[65]=M,e[66]=R):R=e[66];let ot;e[67]===Symbol.for("react.memo_cache_sentinel")?(ot=t.jsx(o,{htmlFor:"add-description",children:"Description or Story (optional)"}),e[67]=ot):ot=e[67];let I;e[68]!==l?(I=s=>l.setData("description",s.target.value),e[68]=l,e[69]=I):I=e[69];let L;e[70]!==l.data.description||e[71]!==I?(L=t.jsx("textarea",{id:"add-description",value:l.data.description,onChange:I,className:is,placeholder:"Short description...",rows:3}),e[70]=l.data.description,e[71]=I,e[72]=L):L=e[72];const Ut=l.errors.description??x.description;let P;e[73]!==Ut?(P=t.jsx(n,{message:Ut}),e[73]=Ut,e[74]=P):P=e[74];let U;e[75]!==L||e[76]!==P?(U=t.jsxs("div",{className:"space-y-2",children:[ot,L,P]}),e[75]=L,e[76]=P,e[77]=U):U=e[77];let dt;e[78]===Symbol.for("react.memo_cache_sentinel")?(dt=t.jsx(o,{htmlFor:"add-address",children:"Address (optional)"}),e[78]=dt):dt=e[78];let O;e[79]!==l?(O=s=>l.setData("address",s.target.value),e[79]=l,e[80]=O):O=e[80];let G;e[81]!==l.data.address||e[82]!==O?(G=t.jsxs("div",{className:"space-y-2",children:[dt,t.jsx("input",{id:"add-address",type:"text",value:l.data.address,onChange:O,className:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-xs outline-none focus-visible:ring-[3px] focus-visible:ring-ring/50 md:text-sm",placeholder:"e.g. Brgy. Alimodian"})]}),e[81]=l.data.address,e[82]=O,e[83]=G):G=e[83];let nt;e[84]===Symbol.for("react.memo_cache_sentinel")?(nt=t.jsx(o,{htmlFor:"add-email",children:"Email (optional)"}),e[84]=nt):nt=e[84];let B;e[85]!==l?(B=s=>l.setData("email",s.target.value),e[85]=l,e[86]=B):B=e[86];let H;e[87]!==l.data.email||e[88]!==B?(H=t.jsx("input",{id:"add-email",type:"email",value:l.data.email,onChange:B,className:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-xs outline-none focus-visible:ring-[3px] focus-visible:ring-ring/50 md:text-sm",placeholder:"contact@example.com"}),e[87]=l.data.email,e[88]=B,e[89]=H):H=e[89];const Ot=l.errors.email??x.email;let V;e[90]!==Ot?(V=t.jsx(n,{message:Ot}),e[90]=Ot,e[91]=V):V=e[91];let q;e[92]!==H||e[93]!==V?(q=t.jsxs("div",{className:"space-y-2",children:[nt,H,V]}),e[92]=H,e[93]=V,e[94]=q):q=e[94];let ct;e[95]===Symbol.for("react.memo_cache_sentinel")?(ct=t.jsx(o,{htmlFor:"add-contact",children:"Contact number (optional)"}),e[95]=ct):ct=e[95];let K;e[96]!==l?(K=s=>l.setData("contact_number",s.target.value),e[96]=l,e[97]=K):K=e[97];let X;e[98]!==l.data.contact_number||e[99]!==K?(X=t.jsxs("div",{className:"space-y-2",children:[ct,t.jsx("input",{id:"add-contact",type:"text",value:l.data.contact_number,onChange:K,className:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-xs outline-none focus-visible:ring-[3px] focus-visible:ring-ring/50 md:text-sm",placeholder:"e.g. +63 912 345 6789"})]}),e[98]=l.data.contact_number,e[99]=K,e[100]=X):X=e[100];let J;e[101]!==G||e[102]!==q||e[103]!==X?(J=t.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[G,q,X]}),e[101]=G,e[102]=q,e[103]=X,e[104]=J):J=e[104];let Q;e[105]!==l||e[106]!==x||e[107]!==b?(Q=b&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(o,{htmlFor:"add-social",children:"Social media link (optional)"}),t.jsx("input",{id:"add-social",type:"url",value:l.data.social_media_url,onChange:s=>l.setData("social_media_url",s.target.value),className:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-xs outline-none focus-visible:ring-[3px] focus-visible:ring-ring/50 md:text-sm",placeholder:"https://facebook.com/..."}),t.jsx(n,{message:l.errors.social_media_url??x.social_media_url})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(o,{htmlFor:"add-map",children:"Google Map embed URL (optional)"}),t.jsx("input",{id:"add-map",type:"text",value:l.data.map_embed_url,onChange:s=>l.setData("map_embed_url",s.target.value),className:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-xs outline-none focus-visible:ring-[3px] focus-visible:ring-ring/50 md:text-sm",placeholder:"https://www.google.com/maps/embed?pb=..."}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:["In Google Maps: open the place → Share → Embed a map → copy the iframe ",t.jsx("strong",{children:"src"}),' URL (starts with https://www.google.com/maps/embed). Or paste a Plus Code/address to show a "View on Google Maps" link instead.']}),t.jsx(n,{message:l.errors.map_embed_url??x.map_embed_url})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(o,{htmlFor:"add-map-lat",children:"Map latitude (optional)"}),t.jsx("input",{id:"add-map-lat",type:"text",inputMode:"decimal",value:l.data.map_latitude,onChange:s=>l.setData("map_latitude",s.target.value),className:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-xs outline-none focus-visible:ring-[3px] focus-visible:ring-ring/50 md:text-sm",placeholder:"e.g. 9.62"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(o,{htmlFor:"add-map-lng",children:"Map longitude (optional)"}),t.jsx("input",{id:"add-map-lng",type:"text",inputMode:"decimal",value:l.data.map_longitude,onChange:s=>l.setData("map_longitude",s.target.value),className:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-xs outline-none focus-visible:ring-[3px] focus-visible:ring-ring/50 md:text-sm",placeholder:"e.g. 122.47"})]})]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Set the pin location for the map. In Google Maps: right-click the place → click the coordinates to copy."})]}),e[105]=l,e[106]=x,e[107]=b,e[108]=Q):Q=e[108];const Gt=l.processing||l.data.images.length===0,Bt=l.processing?"Adding...":`Add ${m}`;let W;e[109]!==Gt||e[110]!==Bt?(W=t.jsx(Ve,{type:"submit",disabled:Gt,size:"lg",children:Bt}),e[109]=Gt,e[110]=Bt,e[111]=W):W=e[111];let mt;e[112]===Symbol.for("react.memo_cache_sentinel")?(mt=t.jsxs(ms,{variant:"secondary",className:"gap-1.5 font-normal",children:[t.jsx(_s,{className:"size-3.5"}),"Added"]}),e[112]=mt):mt=e[112];let Y;e[113]!==l.recentlySuccessful?(Y=t.jsx(ys,{show:l.recentlySuccessful,enter:"transition ease-out duration-200",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"transition ease-in duration-150",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:mt}),e[113]=l.recentlySuccessful,e[114]=Y):Y=e[114];let Z;e[115]!==W||e[116]!==Y?(Z=t.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[W,Y]}),e[115]=W,e[116]=Y,e[117]=Z):Z=e[117];let ee;e[118]!==At||e[119]!==R||e[120]!==U||e[121]!==J||e[122]!==Q||e[123]!==Z?(ee=t.jsx(Zt,{className:"space-y-4",children:t.jsxs("form",{onSubmit:At,className:"space-y-4",children:[R,U,J,Q,Z]})}),e[118]=At,e[119]=R,e[120]=U,e[121]=J,e[122]=Q,e[123]=Z,e[124]=ee):ee=e[124];let te;e[125]!==D||e[126]!==ee?(te=t.jsxs(as,{className:"border-dashed",children:[D,ee]}),e[125]=D,e[126]=ee,e[127]=te):te=e[127];let se;e[128]!==f?(se=t.jsx("span",{className:"flex size-9 items-center justify-center rounded-lg bg-primary/10 text-primary",children:t.jsx(f,{className:"size-4","aria-hidden":!0})}),e[128]=f,e[129]=se):se=e[129];let ae;e[130]!==m?(ae=t.jsxs(es,{className:"text-base",children:["Current ",m,"s"]}),e[130]=m,e[131]=ae):ae=e[131];let le;e[132]!==se||e[133]!==ae?(le=t.jsxs("div",{className:"flex items-center gap-2",children:[se,ae]}),e[132]=se,e[133]=ae,e[134]=le):le=e[134];const Ht=g.length===0?qe:`${g.length} item${g.length===1?"":"s"}. Click Edit to change or Remove to delete.`;let ie;e[135]!==Ht?(ie=t.jsx(ts,{children:Ht}),e[135]=Ht,e[136]=ie):ie=e[136];let re;e[137]!==le||e[138]!==ie?(re=t.jsxs(ss,{className:"pb-3",children:[le,ie]}),e[137]=le,e[138]=ie,e[139]=re):re=e[139];let oe;e[140]!==f||e[141]!==qe||e[142]!==Rt||e[143]!==g||e[144]!==$t?(oe=t.jsx(Zt,{children:g.length===0?t.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed bg-muted/20 py-12 text-center",children:[t.jsx(f,{className:"mb-2 size-10 text-muted-foreground/50"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:qe})]}):t.jsx("ul",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:g.map(s=>t.jsxs("li",{className:"group overflow-hidden rounded-lg border bg-card shadow-sm transition-shadow hover:shadow-md",children:[t.jsxs("div",{className:"relative aspect-video w-full overflow-hidden bg-muted",children:[s.image_url?t.jsx("img",{src:s.image_url,alt:"",className:"h-full w-full object-cover"}):t.jsx("div",{className:"flex h-full items-center justify-center text-muted-foreground",children:t.jsx(f,{className:"size-12"})}),s.image_urls.length>1&&t.jsxs("div",{className:"absolute right-1 bottom-1 rounded bg-black/60 px-1.5 py-0.5 text-xs text-white",children:["+",s.image_urls.length-1]})]}),t.jsxs("div",{className:"space-y-2 p-3",children:[t.jsx("h3",{className:"line-clamp-2 leading-tight font-medium",children:s.title}),s.description?t.jsx("p",{className:"line-clamp-2 text-sm text-muted-foreground",children:s.description}):null,t.jsxs("div",{className:"flex gap-2 pt-1",children:[t.jsxs(Ve,{type:"button",variant:"outline",size:"sm",className:"flex-1 gap-1.5",onClick:()=>$t(s),children:[t.jsx(js,{className:"size-3.5"}),"Edit"]}),t.jsxs(Ve,{type:"button",variant:"destructive",size:"sm",className:"gap-1.5",onClick:()=>Rt(s.id),children:[t.jsx(vs,{className:"size-3.5"}),"Remove"]})]})]})]},s.id))})}),e[140]=f,e[141]=qe,e[142]=Rt,e[143]=g,e[144]=$t,e[145]=oe):oe=e[145];let de;e[146]!==re||e[147]!==oe?(de=t.jsxs(as,{children:[re,oe]}),e[146]=re,e[147]=oe,e[148]=de):de=e[148];let ne;e[149]!==N||e[150]!==te||e[151]!==de?(ne=t.jsxs("div",{className:"flex flex-1 flex-col gap-6 overflow-x-auto px-4 py-6 md:px-6 lg:max-w-5xl",children:[N,te,de]}),e[149]=N,e[150]=te,e[151]=de,e[152]=ne):ne=e[152];let ce;e[153]!==u?(ce=s=>!s&&u(),e[153]=u,e[154]=ce):ce=e[154];let me;e[155]!==m?(me=t.jsxs(ps,{children:["Edit ",m]}),e[155]=m,e[156]=me):me=e[156];let pt;e[157]===Symbol.for("react.memo_cache_sentinel")?(pt=t.jsx(us,{children:"Update title, description, add more images, or remove images."}),e[157]=pt):pt=e[157];let pe;e[158]!==me?(pe=t.jsxs(xs,{className:"shrink-0",children:[me,pt]}),e[158]=me,e[159]=pe):pe=e[159];let ut;e[160]===Symbol.for("react.memo_cache_sentinel")?(ut=t.jsx(o,{htmlFor:"edit-title",children:"Title"}),e[160]=ut):ut=e[160];let ue;e[161]!==a?(ue=s=>a.setData("title",s.target.value),e[161]=a,e[162]=ue):ue=e[162];let xe;e[163]!==a.data.title||e[164]!==ue?(xe=t.jsx("input",{id:"edit-title",type:"text",value:a.data.title,onChange:ue,className:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-xs outline-none focus-visible:ring-[3px] focus-visible:ring-ring/50 md:text-sm",required:!0}),e[163]=a.data.title,e[164]=ue,e[165]=xe):xe=e[165];let ge;e[166]!==a.errors.title?(ge=t.jsx(n,{message:a.errors.title}),e[166]=a.errors.title,e[167]=ge):ge=e[167];let fe;e[168]!==xe||e[169]!==ge?(fe=t.jsxs("div",{className:"space-y-2",children:[ut,xe,ge]}),e[168]=xe,e[169]=ge,e[170]=fe):fe=e[170];let xt;e[171]===Symbol.for("react.memo_cache_sentinel")?(xt=t.jsx(o,{htmlFor:"edit-description",children:"Description (optional)"}),e[171]=xt):xt=e[171];let he;e[172]!==a?(he=s=>a.setData("description",s.target.value),e[172]=a,e[173]=he):he=e[173];let be;e[174]!==a.data.description||e[175]!==he?(be=t.jsx("textarea",{id:"edit-description",value:a.data.description,onChange:he,className:is,rows:3}),e[174]=a.data.description,e[175]=he,e[176]=be):be=e[176];let je;e[177]!==a.errors.description?(je=t.jsx(n,{message:a.errors.description}),e[177]=a.errors.description,e[178]=je):je=e[178];let ve;e[179]!==be||e[180]!==je?(ve=t.jsxs("div",{className:"space-y-2",children:[xt,be,je]}),e[179]=be,e[180]=je,e[181]=ve):ve=e[181];let gt;e[182]===Symbol.for("react.memo_cache_sentinel")?(gt=t.jsx(o,{htmlFor:"edit-address",children:"Address (optional)"}),e[182]=gt):gt=e[182];let _e;e[183]!==a?(_e=s=>a.setData("address",s.target.value),e[183]=a,e[184]=_e):_e=e[184];let ye;e[185]!==a.data.address||e[186]!==_e?(ye=t.jsxs("div",{className:"space-y-2",children:[gt,t.jsx("input",{id:"edit-address",type:"text",value:a.data.address,onChange:_e,className:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-xs outline-none focus-visible:ring-[3px] focus-visible:ring-ring/50 md:text-sm",placeholder:"e.g. Brgy. Alimodian"})]}),e[185]=a.data.address,e[186]=_e,e[187]=ye):ye=e[187];let ft;e[188]===Symbol.for("react.memo_cache_sentinel")?(ft=t.jsx(o,{htmlFor:"edit-email",children:"Email (optional)"}),e[188]=ft):ft=e[188];let Ne;e[189]!==a?(Ne=s=>a.setData("email",s.target.value),e[189]=a,e[190]=Ne):Ne=e[190];let we;e[191]!==a.data.email||e[192]!==Ne?(we=t.jsx("input",{id:"edit-email",type:"email",value:a.data.email,onChange:Ne,className:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-xs outline-none focus-visible:ring-[3px] focus-visible:ring-ring/50 md:text-sm",placeholder:"contact@example.com"}),e[191]=a.data.email,e[192]=Ne,e[193]=we):we=e[193];let Ce;e[194]!==a.errors.email?(Ce=t.jsx(n,{message:a.errors.email}),e[194]=a.errors.email,e[195]=Ce):Ce=e[195];let De;e[196]!==we||e[197]!==Ce?(De=t.jsxs("div",{className:"space-y-2",children:[ft,we,Ce]}),e[196]=we,e[197]=Ce,e[198]=De):De=e[198];let ht;e[199]===Symbol.for("react.memo_cache_sentinel")?(ht=t.jsx(o,{htmlFor:"edit-contact",children:"Contact number (optional)"}),e[199]=ht):ht=e[199];let Se;e[200]!==a?(Se=s=>a.setData("contact_number",s.target.value),e[200]=a,e[201]=Se):Se=e[201];let Fe;e[202]!==a.data.contact_number||e[203]!==Se?(Fe=t.jsxs("div",{className:"space-y-2",children:[ht,t.jsx("input",{id:"edit-contact",type:"text",value:a.data.contact_number,onChange:Se,className:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-xs outline-none focus-visible:ring-[3px] focus-visible:ring-ring/50 md:text-sm",placeholder:"e.g. +63 912 345 6789"})]}),e[202]=a.data.contact_number,e[203]=Se,e[204]=Fe):Fe=e[204];let ke;e[205]!==ye||e[206]!==De||e[207]!==Fe?(ke=t.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[ye,De,Fe]}),e[205]=ye,e[206]=De,e[207]=Fe,e[208]=ke):ke=e[208];let ze;e[209]!==a||e[210]!==b?(ze=b&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(o,{htmlFor:"edit-social",children:"Social media link (optional)"}),t.jsx("input",{id:"edit-social",type:"url",value:a.data.social_media_url,onChange:s=>a.setData("social_media_url",s.target.value),className:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-xs outline-none focus-visible:ring-[3px] focus-visible:ring-ring/50 md:text-sm",placeholder:"https://facebook.com/..."}),t.jsx(n,{message:a.errors.social_media_url})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(o,{htmlFor:"edit-map",children:"Google Map embed URL (optional)"}),t.jsx("input",{id:"edit-map",type:"text",value:a.data.map_embed_url,onChange:s=>a.setData("map_embed_url",s.target.value),className:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-xs outline-none focus-visible:ring-[3px] focus-visible:ring-ring/50 md:text-sm",placeholder:"https://www.google.com/maps/embed?pb=..."}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:["In Google Maps: open the place → Share → Embed a map → copy the iframe ",t.jsx("strong",{children:"src"}),' URL. Or paste a Plus Code/address for a "View on Google Maps" link.']}),t.jsx(n,{message:a.errors.map_embed_url})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(o,{htmlFor:"edit-map-lat",children:"Map latitude (optional)"}),t.jsx("input",{id:"edit-map-lat",type:"text",inputMode:"decimal",value:a.data.map_latitude,onChange:s=>a.setData("map_latitude",s.target.value),className:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-xs outline-none focus-visible:ring-[3px] focus-visible:ring-ring/50 md:text-sm",placeholder:"e.g. 9.62"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(o,{htmlFor:"edit-map-lng",children:"Map longitude (optional)"}),t.jsx("input",{id:"edit-map-lng",type:"text",inputMode:"decimal",value:a.data.map_longitude,onChange:s=>a.setData("map_longitude",s.target.value),className:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-xs outline-none focus-visible:ring-[3px] focus-visible:ring-ring/50 md:text-sm",placeholder:"e.g. 122.47"})]})]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Pin location for the map. In Google Maps: right-click the place → click coordinates to copy."})]}),e[209]=a,e[210]=b,e[211]=ze):ze=e[211];let Ee;e[212]!==p||e[213]!==It?(Ee=p&&p.image_urls.length>0&&t.jsxs("div",{className:"space-y-2",children:[t.jsx(o,{children:"Current images"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:p.image_urls.map(s=>t.jsxs("div",{className:"relative inline-block",children:[t.jsx("img",{src:s.image_url,alt:"",className:"h-20 w-20 rounded-md border object-cover"}),t.jsx("button",{type:"button",onClick:i=>{i.preventDefault(),i.stopPropagation(),It(s.id)},className:"absolute -top-1 -right-1 z-10 flex size-6 cursor-pointer items-center justify-center rounded-full border-2 border-white bg-destructive text-white shadow-md transition-transform hover:scale-110 hover:opacity-90 focus:ring-2 focus:ring-ring focus:outline-none","aria-label":"Remove this image",children:t.jsx(Kt,{className:"size-3.5 shrink-0 stroke-[2.5]"})})]},s.id))})]}),e[212]=p,e[213]=It,e[214]=Ee):Ee=e[214];let bt;e[215]===Symbol.for("react.memo_cache_sentinel")?(bt=t.jsx(o,{children:"Add more images (optional)"}),e[215]=bt):bt=e[215];let jt;e[216]===Symbol.for("react.memo_cache_sentinel")?(jt=t.jsx(Xt,{className:"size-4"}),e[216]=jt):jt=e[216];let Te,$e;e[217]!==a?(Te=t.jsxs("label",{className:"flex cursor-pointer items-center gap-2 rounded-md border border-input px-3 py-2 text-sm transition-colors hover:bg-muted/50",children:[jt,"Choose new images",t.jsx("input",{type:"file",accept:"image/jpeg,image/png,image/gif,image/webp",className:"sr-only",multiple:!0,onChange:s=>{const i=Array.from(s.target.files??[]);a.setData("images",[...a.data.images,...i]),s.target.value=""}})]}),$e=a.data.images.map((s,i)=>{const r=s instanceof File?URL.createObjectURL(s):null;return t.jsxs("div",{className:"relative",children:[r?t.jsx("img",{src:r,alt:`New ${i+1}`,className:"h-16 w-16 rounded-md border object-cover"}):t.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-md border bg-muted text-xs text-muted-foreground",children:s.name}),t.jsx("button",{type:"button",onClick:h=>{h.preventDefault(),h.stopPropagation(),a.setData("images",a.data.images.filter((os,qt)=>qt!==i))},className:"absolute -top-1 -right-1 z-10 flex size-5 cursor-pointer items-center justify-center rounded-full border-2 border-white bg-destructive text-white shadow hover:opacity-90 focus:ring-2 focus:ring-ring focus:outline-none","aria-label":"Remove from selection",children:t.jsx(Kt,{className:"size-3 shrink-0 stroke-[2.5]"})})]},`edit-new-${i}-${s.name}`)}),e[217]=a,e[218]=Te,e[219]=$e):(Te=e[218],$e=e[219]);let Ae;e[220]!==Te||e[221]!==$e?(Ae=t.jsxs("div",{className:"space-y-2",children:[bt,t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[Te,$e]})]}),e[220]=Te,e[221]=$e,e[222]=Ae):Ae=e[222];let Me;e[223]!==Ae||e[224]!==fe||e[225]!==ve||e[226]!==ke||e[227]!==ze||e[228]!==Ee?(Me=t.jsxs("div",{className:"min-h-0 flex-1 space-y-4 overflow-y-auto pr-1",children:[fe,ve,ke,ze,Ee,Ae]}),e[223]=Ae,e[224]=fe,e[225]=ve,e[226]=ke,e[227]=ze,e[228]=Ee,e[229]=Me):Me=e[229];let Re;e[230]!==u?(Re=t.jsx(Ve,{type:"button",variant:"outline",onClick:u,children:"Cancel"}),e[230]=u,e[231]=Re):Re=e[231];const Vt=a.processing?"Saving...":"Save";let Ie;e[232]!==a.processing||e[233]!==Vt?(Ie=t.jsx(Ve,{type:"submit",disabled:a.processing,children:Vt}),e[232]=a.processing,e[233]=Vt,e[234]=Ie):Ie=e[234];let Le;e[235]!==Re||e[236]!==Ie?(Le=t.jsxs(gs,{className:"shrink-0 border-t pt-4",children:[Re,Ie]}),e[235]=Re,e[236]=Ie,e[237]=Le):Le=e[237];let Pe;e[238]!==Mt||e[239]!==Me||e[240]!==Le?(Pe=t.jsxs("form",{onSubmit:Mt,className:"flex min-h-0 flex-1 flex-col",encType:"multipart/form-data",children:[Me,Le]}),e[238]=Mt,e[239]=Me,e[240]=Le,e[241]=Pe):Pe=e[241];let Ue;e[242]!==Pe||e[243]!==pe?(Ue=t.jsxs(fs,{className:"flex max-h-[90vh] flex-col sm:max-w-lg",children:[pe,Pe]}),e[242]=Pe,e[243]=pe,e[244]=Ue):Ue=e[244];let Oe;e[245]!==Tt||e[246]!==Ue||e[247]!==ce?(Oe=t.jsx(hs,{open:Tt,onOpenChange:ce,children:Ue}),e[245]=Tt,e[246]=Ue,e[247]=ce,e[248]=Oe):Oe=e[248];let Ge;e[249]!==Ft?(Ge=t.jsx(ls,{open:Ft,onOpenChange:Qt,title:"Added"}),e[249]=Ft,e[250]=Ge):Ge=e[250];let Be;e[251]!==kt?(Be=t.jsx(ls,{open:kt,onOpenChange:zt,title:"Updated"}),e[251]=kt,e[252]=Be):Be=e[252];let vt;return e[253]!==wt||e[254]!==j||e[255]!==Oe||e[256]!==Ge||e[257]!==Be||e[258]!==v||e[259]!==ne?(vt=t.jsxs(bs,{breadcrumbs:wt,children:[j,v,ne,Oe,Ge,Be]}),e[253]=wt,e[254]=j,e[255]=Oe,e[256]=Ge,e[257]=Be,e[258]=v,e[259]=ne,e[260]=vt):vt=e[260],vt}function Ns(He){return{...He,_method:"PUT"}}function ws(He){const[e,c]=He;return[e,Array.isArray(c)?c[0]:c]}export{Us as T};
