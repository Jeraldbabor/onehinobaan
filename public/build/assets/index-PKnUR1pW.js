import{c as C,r as y,j as e,L as f,b as _,H as A}from"./app-B0TNbMn-.js";import{B as x}from"./button-Q1pc-W3u.js";import{C as g,a as v,b as D,c as S,d as T}from"./card-CdwOYdk-.js";import{T as k}from"./toast-CWePUTWw.js";import{C as z,A as $}from"./app-layout-DlMjznvm.js";import{P as b}from"./plus-BnnNPU3o.js";import{P}from"./pencil-Dxst1hDd.js";import{T as L}from"./trash-2-C14s1yZ9.js";/* empty css            */import"./utils-DwDq1e9d.js";import"./check-CBc63dse.js";import"./x-QvDVFrHJ.js";import"./transition-CLt8Y9_o.js";import"./index-1zbHqn2d.js";import"./index-BvRwfgcE.js";import"./index-Bk3c-dX8.js";import"./megaphone-BfoPj57M.js";import"./hard-hat-CF3rDnIU.js";import"./phone-DYfDZZ8f.js";import"./users-DVYRslCj.js";import"./landmark-CB_KGvE1.js";const E="/dashboard",r="/dashboard/activities",H=[{title:"Dashboard",href:E},{title:"Municipality Activities",href:r}];function ae(N){const t=C.c(12),{activities:l}=N,[h,u]=y.useState(!1),[p,j]=y.useState(null);let c;t[0]===Symbol.for("react.memo_cache_sentinel")?(c=s=>{confirm("Remove this activity? It will no longer appear on the site.")&&(j(s),_.delete(`${r}/${s}`,{onSuccess:()=>u(!0),onFinish:()=>j(null)}))},t[0]=c):c=t[0];const w=c;let n;t[1]===Symbol.for("react.memo_cache_sentinel")?(n=e.jsx(A,{title:"Municipality Activities"}),t[1]=n):n=t[1];let o;t[2]===Symbol.for("react.memo_cache_sentinel")?(o=e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-semibold tracking-tight md:text-2xl",children:"Municipality Activities"}),e.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Post daily or weekly activities carried out by the LGU. They appear on the homepage and at /activities."})]}),t[2]=o):o=t[2];let d;t[3]===Symbol.for("react.memo_cache_sentinel")?(d=e.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-4",children:[o,e.jsx(x,{asChild:!0,children:e.jsxs(f,{href:`${r}/create`,children:[e.jsx(b,{className:"size-4"}),"Add activity"]})})]}),t[3]=d):d=t[3];let i;t[4]!==l||t[5]!==p?(i=e.jsxs("div",{className:"flex flex-1 flex-col gap-6 overflow-x-auto px-4 py-6 md:px-6 lg:max-w-4xl",children:[d,l.length===0?e.jsx(g,{children:e.jsxs(v,{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(z,{className:"size-12 text-muted-foreground"}),e.jsx("p",{className:"mt-4 text-sm text-muted-foreground",children:"No activities yet. Add one to show on the homepage and activities page."}),e.jsx(x,{asChild:!0,className:"mt-4",children:e.jsxs(f,{href:`${r}/create`,children:[e.jsx(b,{className:"size-4"}),"Add activity"]})})]})}):e.jsx("ul",{className:"space-y-3",children:l.map(s=>e.jsx("li",{children:e.jsxs(g,{children:[e.jsxs(D,{className:"flex flex-row items-start justify-between gap-4 py-4",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx(S,{className:"text-base",children:s.title}),e.jsxs(T,{className:"mt-1 flex flex-wrap items-center gap-2",children:[e.jsx("span",{children:s.published_at?new Date(s.published_at).toLocaleDateString():"Draft"}),s.link_url&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Â·"}),e.jsx("span",{children:"Has link"})]})]})]}),e.jsxs("div",{className:"flex shrink-0 gap-2",children:[e.jsx(x,{variant:"outline",size:"sm",asChild:!0,children:e.jsxs(f,{href:`${r}/${s.id}/edit`,children:[e.jsx(P,{className:"size-3.5"}),"Edit"]})}),e.jsxs(x,{variant:"destructive",size:"sm",onClick:()=>w(s.id),disabled:p===s.id,children:[e.jsx(L,{className:"size-3.5"}),"Remove"]})]})]}),s.content&&e.jsx(v,{className:"border-t py-3",children:e.jsx("p",{className:"line-clamp-2 text-sm text-muted-foreground",children:s.content.replace(/<[^>]*>/g," ").trim()})})]})},s.id))})]}),t[4]=l,t[5]=p,t[6]=i):i=t[6];let a;t[7]!==h?(a=e.jsx(k,{open:h,onOpenChange:u,title:"Done"}),t[7]=h,t[8]=a):a=t[8];let m;return t[9]!==i||t[10]!==a?(m=e.jsxs($,{breadcrumbs:H,children:[n,i,a]}),t[9]=i,t[10]=a,t[11]=m):m=t[11],m}export{ae as default};
