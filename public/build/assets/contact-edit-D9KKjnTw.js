import{c as ze,a as He,r as Pe,j as s,H as Ie}from"./app-BIIX7BF1.js";import{I as J}from"./input-error-Dog57yZH.js";import{B as De}from"./badge-Cb5w33qk.js";import{B as Ce}from"./index-CZhuW6J2.js";import{C as we,a as Ee,d as Fe,b as Me,c as Ue}from"./card-B7J3uYGi.js";import{I as i}from"./input-D-thCKlr.js";import{L as c}from"./label-BrtNbNlo.js";import{T as Ae}from"./toast-CeNHnvtf.js";import{A as Be}from"./app-layout-CPMJcZkt.js";import{M as Ge,P as Oe}from"./x-D52Q4CUL.js";import{S as Ke}from"./share-2-BfUl1xts.js";import{C as Ye}from"./check-CRkoq3Li.js";import{K as $e}from"./transition-BBAuz0nm.js";/* empty css            */import"./index-pjzQDydk.js";import"./index-CTYiB3h6.js";import"./createLucideIcon-rY7UP4mI.js";import"./megaphone-Bvy9s0wX.js";import"./hard-hat-Bvnd2bTD.js";import"./briefcase-Bu0tNWqC.js";import"./users-DgcjHilf.js";import"./landmark-CsYJgGDc.js";const qe="/dashboard",Re="/dashboard/contact",Je=[{title:"Dashboard",href:qe},{title:"Edit Contact Us",href:Re}],n="border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 flex h-10 w-full rounded-lg border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:opacity-50 md:text-sm";function bs(Te){const e=ze.c(127),{contact:r}=Te,xe=r?.address??"",be=r?.phone??"",_e=r?.email??"",ye=r?.map_embed_url??"",ge=r?.facebook_municipality_url??"",je=r?.facebook_mayor_url??"";let d;e[0]!==r?.hotlines?(d=r?.hotlines??[],e[0]=r?.hotlines,e[1]=d):d=e[1];let Q;e[2]!==xe||e[3]!==be||e[4]!==_e||e[5]!==ye||e[6]!==ge||e[7]!==je||e[8]!==d?(Q={address:xe,phone:be,email:_e,map_embed_url:ye,facebook_municipality_url:ge,facebook_mayor_url:je,hotlines:d},e[2]=xe,e[3]=be,e[4]=_e,e[5]=ye,e[6]=ge,e[7]=je,e[8]=d,e[9]=Q):Q=e[9];const{data:a,setData:l,put:Ne,processing:V,errors:t,recentlySuccessful:ve}=He(Q),[ke,Le]=Pe.useState(!1);let W,X;e[10]===Symbol.for("react.memo_cache_sentinel")?(X=s.jsx(Ie,{title:"Edit Contact Us"}),W=s.jsx("h1",{className:"sr-only",children:"Edit Contact Us"}),e[10]=W,e[11]=X):(W=e[10],X=e[11]);let Z;e[12]===Symbol.for("react.memo_cache_sentinel")?(Z=s.jsx("h2",{className:"text-xl font-semibold tracking-tight md:text-2xl",children:"Contact information & map"}),e[12]=Z):Z=e[12];let ee;e[13]===Symbol.for("react.memo_cache_sentinel")?(ee=s.jsxs("header",{className:"space-y-1",children:[Z,s.jsxs("p",{className:"max-w-2xl text-sm text-muted-foreground",children:["Edit the address, phone, email, and map shown on the public Contact Us page. For the map, paste the embed URL from Google Maps (Share → Embed a map → copy the"," ",s.jsx("code",{className:"rounded bg-muted px-1 py-0.5 text-xs",children:"src"})," ","of the iframe)."]})]}),e[13]=ee):ee=e[13];let p;e[14]!==Ne?(p=o=>{o.preventDefault(),Ne(Re,{onSuccess:()=>Le(!0)})},e[14]=Ne,e[15]=p):p=e[15];let se;e[16]===Symbol.for("react.memo_cache_sentinel")?(se=s.jsxs(we,{className:"pb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"flex size-9 items-center justify-center rounded-lg bg-primary/10 text-primary",children:s.jsx(Ge,{className:"size-4","aria-hidden":!0})}),s.jsx(Ee,{className:"text-base",children:"Contact details"})]}),s.jsx(Fe,{children:"Shown on the Contact Us page. Leave blank to hide a field."})]}),e[16]=se):se=e[16];let ae;e[17]===Symbol.for("react.memo_cache_sentinel")?(ae=s.jsx(c,{htmlFor:"address",children:"Address"}),e[17]=ae):ae=e[17];let h;e[18]!==l?(h=o=>l("address",o.target.value),e[18]=l,e[19]=h):h=e[19];let f;e[20]!==a.address||e[21]!==h?(f=s.jsx(i,{id:"address",type:"text",value:a.address,onChange:h,className:n,placeholder:"e.g. Municipal Hall, Hinobaan, Negros Occidental 6114"}),e[20]=a.address,e[21]=h,e[22]=f):f=e[22];let u;e[23]!==t.address?(u=s.jsx(J,{message:t.address}),e[23]=t.address,e[24]=u):u=e[24];let x;e[25]!==f||e[26]!==u?(x=s.jsxs("div",{className:"space-y-2",children:[ae,f,u]}),e[25]=f,e[26]=u,e[27]=x):x=e[27];let le;e[28]===Symbol.for("react.memo_cache_sentinel")?(le=s.jsx(c,{htmlFor:"phone",children:"Phone"}),e[28]=le):le=e[28];let b;e[29]!==l?(b=o=>l("phone",o.target.value),e[29]=l,e[30]=b):b=e[30];let _;e[31]!==a.phone||e[32]!==b?(_=s.jsx(i,{id:"phone",type:"text",value:a.phone,onChange:b,className:n,placeholder:"e.g. (034) 468 4002"}),e[31]=a.phone,e[32]=b,e[33]=_):_=e[33];let y;e[34]!==t.phone?(y=s.jsx(J,{message:t.phone}),e[34]=t.phone,e[35]=y):y=e[35];let g;e[36]!==_||e[37]!==y?(g=s.jsxs("div",{className:"space-y-2",children:[le,_,y]}),e[36]=_,e[37]=y,e[38]=g):g=e[38];let te;e[39]===Symbol.for("react.memo_cache_sentinel")?(te=s.jsx(c,{htmlFor:"email",children:"Email"}),e[39]=te):te=e[39];let j;e[40]!==l?(j=o=>l("email",o.target.value),e[40]=l,e[41]=j):j=e[41];let N;e[42]!==a.email||e[43]!==j?(N=s.jsx(i,{id:"email",type:"email",value:a.email,onChange:j,className:n,placeholder:"e.g. info@hinobaan.gov.ph"}),e[42]=a.email,e[43]=j,e[44]=N):N=e[44];let v;e[45]!==t.email?(v=s.jsx(J,{message:t.email}),e[45]=t.email,e[46]=v):v=e[46];let k;e[47]!==N||e[48]!==v?(k=s.jsxs("div",{className:"space-y-2",children:[te,N,v]}),e[47]=N,e[48]=v,e[49]=k):k=e[49];let oe;e[50]===Symbol.for("react.memo_cache_sentinel")?(oe=s.jsx(c,{htmlFor:"map_embed_url",children:"Map embed URL"}),e[50]=oe):oe=e[50];let S;e[51]!==l?(S=o=>l("map_embed_url",o.target.value),e[51]=l,e[52]=S):S=e[52];let C;e[53]!==a.map_embed_url||e[54]!==S?(C=s.jsx(i,{id:"map_embed_url",type:"url",value:a.map_embed_url,onChange:S,className:n,placeholder:"https://www.google.com/maps/embed?pb=..."}),e[53]=a.map_embed_url,e[54]=S,e[55]=C):C=e[55];let w;e[56]!==t.map_embed_url?(w=s.jsx(J,{message:t.map_embed_url}),e[56]=t.map_embed_url,e[57]=w):w=e[57];let E;e[58]!==a.map_embed_url?(E=a.map_embed_url&&a.map_embed_url.includes("google.com/maps")&&!a.map_embed_url.includes("google.com/maps/embed")&&s.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-500",children:"This is a regular map link. Use the embed URL instead: In Google Maps click Share → Embed a map → copy the iframe src (must contain /maps/embed)."}),e[58]=a.map_embed_url,e[59]=E):E=e[59];let re;e[60]===Symbol.for("react.memo_cache_sentinel")?(re=s.jsx("strong",{children:"src"}),e[60]=re):re=e[60];let ie;e[61]===Symbol.for("react.memo_cache_sentinel")?(ie=s.jsxs("p",{className:"text-xs text-muted-foreground",children:["In Google Maps: Share → Embed a map → copy the iframe ",re," URL only (must contain"," ",s.jsx("code",{className:"rounded bg-muted px-0.5",children:"/maps/embed"}),"). The normal map link will not work here."]}),e[61]=ie):ie=e[61];let F;e[62]!==C||e[63]!==w||e[64]!==E?(F=s.jsxs("div",{className:"space-y-2",children:[oe,C,w,E,ie]}),e[62]=C,e[63]=w,e[64]=E,e[65]=F):F=e[65];let M;e[66]!==x||e[67]!==g||e[68]!==k||e[69]!==F?(M=s.jsxs(Me,{children:[se,s.jsxs(Ue,{className:"space-y-4",children:[x,g,k,F]})]}),e[66]=x,e[67]=g,e[68]=k,e[69]=F,e[70]=M):M=e[70];let ce;e[71]===Symbol.for("react.memo_cache_sentinel")?(ce=s.jsxs(we,{className:"pb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"flex size-9 items-center justify-center rounded-lg bg-primary/10 text-primary",children:s.jsx(Oe,{className:"size-4","aria-hidden":!0})}),s.jsx(Ee,{className:"text-base",children:"Hotlines"})]}),s.jsx(Fe,{children:"Emergency hotlines or secondary contact numbers."})]}),e[71]=ce):ce=e[71];let U;e[72]!==a.hotlines||e[73]!==l?(U=a.hotlines.map((o,fe)=>s.jsxs("div",{className:"flex items-end gap-3 rounded-lg border bg-neutral-50/50 p-4",children:[s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx(c,{children:"Label"}),s.jsx(i,{value:o.label,onChange:ue=>{const m=[...a.hotlines];m[fe].label=ue.target.value,l("hotlines",m)},placeholder:"e.g. MDRRMO",className:n})]}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx(c,{children:"Number"}),s.jsx(i,{value:o.number,onChange:ue=>{const m=[...a.hotlines];m[fe].number=ue.target.value,l("hotlines",m)},placeholder:"e.g. 09123456789",className:n})]}),s.jsx(Ce,{type:"button",variant:"outline",className:"mb-[1px] h-10 border-red-200 text-red-600 hover:bg-red-50 hover:text-red-700",onClick:()=>l("hotlines",a.hotlines.filter((ue,m)=>m!==fe)),children:"Remove"})]},fe)),e[72]=a.hotlines,e[73]=l,e[74]=U):U=e[74];let L;e[75]!==a.hotlines||e[76]!==l?(L=s.jsx(Ce,{type:"button",variant:"outline",className:"w-full border-dashed",onClick:()=>l("hotlines",[...a.hotlines,{label:"",number:""}]),children:"+ Add hotline"}),e[75]=a.hotlines,e[76]=l,e[77]=L):L=e[77];let R;e[78]!==U||e[79]!==L?(R=s.jsxs(Me,{children:[ce,s.jsxs(Ue,{className:"space-y-4",children:[U,L]})]}),e[78]=U,e[79]=L,e[80]=R):R=e[80];let ne;e[81]===Symbol.for("react.memo_cache_sentinel")?(ne=s.jsxs(we,{className:"pb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"flex size-9 items-center justify-center rounded-lg bg-primary/10 text-primary",children:s.jsx(Ke,{className:"size-4","aria-hidden":!0})}),s.jsx(Ee,{className:"text-base",children:"Facebook pages (for landing page)"})]}),s.jsx(Fe,{children:"Full URLs to your Municipality and Mayor Facebook pages. They will be embedded on the right side of the homepage. Leave blank to hide."})]}),e[81]=ne):ne=e[81];let me;e[82]===Symbol.for("react.memo_cache_sentinel")?(me=s.jsx(c,{htmlFor:"facebook_mayor_url",children:"Mayor Facebook page URL"}),e[82]=me):me=e[82];let T;e[83]!==l?(T=o=>l("facebook_mayor_url",o.target.value),e[83]=l,e[84]=T):T=e[84];let z;e[85]!==a.facebook_mayor_url||e[86]!==T?(z=s.jsx(i,{id:"facebook_mayor_url",type:"url",value:a.facebook_mayor_url,onChange:T,className:n,placeholder:"https://www.facebook.com/MayorPage"}),e[85]=a.facebook_mayor_url,e[86]=T,e[87]=z):z=e[87];let H;e[88]!==t.facebook_mayor_url?(H=s.jsx(J,{message:t.facebook_mayor_url}),e[88]=t.facebook_mayor_url,e[89]=H):H=e[89];let P;e[90]!==z||e[91]!==H?(P=s.jsxs("div",{className:"space-y-2",children:[me,z,H]}),e[90]=z,e[91]=H,e[92]=P):P=e[92];let de;e[93]===Symbol.for("react.memo_cache_sentinel")?(de=s.jsx(c,{htmlFor:"facebook_municipality_url",children:"Municipality Facebook page URL"}),e[93]=de):de=e[93];let I;e[94]!==l?(I=o=>l("facebook_municipality_url",o.target.value),e[94]=l,e[95]=I):I=e[95];let D;e[96]!==a.facebook_municipality_url||e[97]!==I?(D=s.jsx(i,{id:"facebook_municipality_url",type:"url",value:a.facebook_municipality_url,onChange:I,className:n,placeholder:"https://www.facebook.com/YourMunicipalityPage"}),e[96]=a.facebook_municipality_url,e[97]=I,e[98]=D):D=e[98];let A;e[99]!==t.facebook_municipality_url?(A=s.jsx(J,{message:t.facebook_municipality_url}),e[99]=t.facebook_municipality_url,e[100]=A):A=e[100];let B;e[101]!==D||e[102]!==A?(B=s.jsxs("div",{className:"space-y-2",children:[de,D,A]}),e[101]=D,e[102]=A,e[103]=B):B=e[103];let G;e[104]!==P||e[105]!==B?(G=s.jsxs(Me,{children:[ne,s.jsxs(Ue,{className:"space-y-4",children:[P,B]})]}),e[104]=P,e[105]=B,e[106]=G):G=e[106];const Se=V?"Saving...":"Save contact info";let O;e[107]!==V||e[108]!==Se?(O=s.jsx(Ce,{type:"submit",disabled:V,size:"lg",children:Se}),e[107]=V,e[108]=Se,e[109]=O):O=e[109];let pe;e[110]===Symbol.for("react.memo_cache_sentinel")?(pe=s.jsxs(De,{variant:"secondary",className:"gap-1.5 font-normal",children:[s.jsx(Ye,{className:"size-3.5"}),"Saved"]}),e[110]=pe):pe=e[110];let K;e[111]!==ve?(K=s.jsx($e,{show:ve,enter:"transition ease-out duration-200",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"transition ease-in duration-150",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:pe}),e[111]=ve,e[112]=K):K=e[112];let Y;e[113]!==O||e[114]!==K?(Y=s.jsxs("div",{className:"flex flex-wrap items-center gap-3 border-t pt-6",children:[O,K]}),e[113]=O,e[114]=K,e[115]=Y):Y=e[115];let $;e[116]!==p||e[117]!==M||e[118]!==R||e[119]!==G||e[120]!==Y?($=s.jsxs("div",{className:"flex flex-1 flex-col gap-6 overflow-x-auto px-4 py-6 md:px-6 lg:max-w-3xl",children:[ee,s.jsxs("form",{onSubmit:p,className:"space-y-6",children:[M,R,G,Y]})]}),e[116]=p,e[117]=M,e[118]=R,e[119]=G,e[120]=Y,e[121]=$):$=e[121];let q;e[122]!==ke?(q=s.jsx(Ae,{open:ke,onOpenChange:Le,title:"Saved"}),e[122]=ke,e[123]=q):q=e[123];let he;return e[124]!==$||e[125]!==q?(he=s.jsxs(Be,{breadcrumbs:Je,children:[X,W,$,q]}),e[124]=$,e[125]=q,e[126]=he):he=e[126],he}export{bs as default};
