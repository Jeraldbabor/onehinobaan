import{c as M,a as I,r as O,j as t,H as K}from"./app-BIIX7BF1.js";import{I as R}from"./input-error-Dog57yZH.js";import{B as U}from"./badge-Cb5w33qk.js";import{B as P}from"./index-CZhuW6J2.js";import{C as V,a as Y,d as $,b as q,c as G}from"./card-B7J3uYGi.js";import{L as J}from"./label-BrtNbNlo.js";import{T as Q}from"./toast-CeNHnvtf.js";import{A as W}from"./app-layout-CPMJcZkt.js";import{c as X}from"./createLucideIcon-rY7UP4mI.js";import{C as Z}from"./check-CRkoq3Li.js";import{K as ee}from"./transition-BBAuz0nm.js";/* empty css            */import"./index-pjzQDydk.js";import"./x-D52Q4CUL.js";import"./index-CTYiB3h6.js";import"./megaphone-Bvy9s0wX.js";import"./hard-hat-Bvnd2bTD.js";import"./briefcase-Bu0tNWqC.js";import"./users-DgcjHilf.js";import"./landmark-CsYJgGDc.js";const te=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],se=X("BookOpen",te),oe="/dashboard",A="/dashboard/history",ae=[{title:"Dashboard",href:oe},{title:"Edit History",href:A}],re="border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 min-h-[320px] w-full rounded-lg border bg-transparent px-3 py-2.5 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:opacity-50 md:text-sm resize-y";function we(D){const e=M.c(40),{history:F}=D,S=F?.content??"";let p;e[0]!==S?(p={content:S},e[0]=S,e[1]=p):p=e[1];const{data:H,setData:w,put:C,processing:x,errors:E,recentlySuccessful:T}=I(p),[k,L]=O.useState(!1);let h,f;e[2]===Symbol.for("react.memo_cache_sentinel")?(h=t.jsx(K,{title:"Edit History"}),f=t.jsx("h1",{className:"sr-only",children:"Edit History"}),e[2]=h,e[3]=f):(h=e[2],f=e[3]);let u;e[4]===Symbol.for("react.memo_cache_sentinel")?(u=t.jsx("h2",{className:"text-xl font-semibold tracking-tight md:text-2xl",children:"Municipality history"}),e[4]=u):u=e[4];let y;e[5]===Symbol.for("react.memo_cache_sentinel")?(y=t.jsx("code",{className:"rounded bg-muted px-1 py-0.5 text-xs",children:"<p>"}),e[5]=y):y=e[5];let b;e[6]===Symbol.for("react.memo_cache_sentinel")?(b=t.jsx("code",{className:"rounded bg-muted px-1 py-0.5 text-xs",children:"<strong>"}),e[6]=b):b=e[6];let g;e[7]===Symbol.for("react.memo_cache_sentinel")?(g=t.jsxs("header",{className:"space-y-1",children:[u,t.jsxs("p",{className:"max-w-2xl text-sm text-muted-foreground",children:["Edit the history content shown on the public About → History page. You can use HTML for formatting (e.g."," ",y,","," ",b,","," ",t.jsx("code",{className:"rounded bg-muted px-1 py-0.5 text-xs",children:"<h2>"}),")."]})]}),e[7]=g):g=e[7];let s;e[8]!==C?(s=B=>{B.preventDefault(),C(A,{onSuccess:()=>L(!0)})},e[8]=C,e[9]=s):s=e[9];let j;e[10]===Symbol.for("react.memo_cache_sentinel")?(j=t.jsxs(V,{className:"pb-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"flex size-9 items-center justify-center rounded-lg bg-primary/10 text-primary",children:t.jsx(se,{className:"size-4","aria-hidden":!0})}),t.jsx(Y,{className:"text-base",children:"History content"})]}),t.jsx($,{children:"The main text displayed on the About → History page."})]}),e[10]=j):j=e[10];let N;e[11]===Symbol.for("react.memo_cache_sentinel")?(N=t.jsx(J,{htmlFor:"content",className:"sr-only",children:"History content"}),e[11]=N):N=e[11];let o;e[12]!==w?(o=B=>w("content",B.target.value),e[12]=w,e[13]=o):o=e[13];let a;e[14]!==H.content||e[15]!==o?(a=t.jsx("textarea",{id:"content",name:"content",rows:20,value:H.content,onChange:o,className:re,placeholder:"Enter the history of Hinoba-an..."}),e[14]=H.content,e[15]=o,e[16]=a):a=e[16];let r;e[17]!==E.content?(r=t.jsx(R,{message:E.content}),e[17]=E.content,e[18]=r):r=e[18];let i;e[19]!==a||e[20]!==r?(i=t.jsxs(q,{children:[j,t.jsxs(G,{className:"space-y-2",children:[N,a,r]})]}),e[19]=a,e[20]=r,e[21]=i):i=e[21];const z=x?"Saving...":"Save history";let n;e[22]!==x||e[23]!==z?(n=t.jsx(P,{type:"submit",disabled:x,size:"lg",children:z}),e[22]=x,e[23]=z,e[24]=n):n=e[24];let v;e[25]===Symbol.for("react.memo_cache_sentinel")?(v=t.jsxs(U,{variant:"secondary",className:"gap-1.5 font-normal",children:[t.jsx(Z,{className:"size-3.5"}),"Saved"]}),e[25]=v):v=e[25];let l;e[26]!==T?(l=t.jsx(ee,{show:T,enter:"transition ease-out duration-200",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"transition ease-in duration-150",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:v}),e[26]=T,e[27]=l):l=e[27];let c;e[28]!==n||e[29]!==l?(c=t.jsxs("div",{className:"flex flex-wrap items-center gap-3 border-t pt-6",children:[n,l]}),e[28]=n,e[29]=l,e[30]=c):c=e[30];let m;e[31]!==i||e[32]!==c||e[33]!==s?(m=t.jsxs("div",{className:"flex flex-1 flex-col gap-6 overflow-x-auto px-4 py-6 md:px-6 lg:max-w-5xl",children:[g,t.jsxs("form",{onSubmit:s,className:"space-y-6",children:[i,c]})]}),e[31]=i,e[32]=c,e[33]=s,e[34]=m):m=e[34];let d;e[35]!==k?(d=t.jsx(Q,{open:k,onOpenChange:L,title:"Saved"}),e[35]=k,e[36]=d):d=e[36];let _;return e[37]!==m||e[38]!==d?(_=t.jsxs(W,{breadcrumbs:ae,children:[h,f,m,d]}),e[37]=m,e[38]=d,e[39]=_):_=e[39],_}export{we as default};
